
def map(lambda: 𝟙→ ℝ){
    a := [lambda()];
    r₁ := [lambda()]~a;
    return r₁;
}

def main(){
    r:=map(()=>flip(1/2));
    return r[0]+r[1]; // expected: δ[-r₁+1]·⅟2+δ[-r₁+2]·⅟4+δ[r₁]·⅟4
}
