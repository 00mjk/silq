
def Nice(y){
    x := SampleFrom("(x;y) => [-y<=x]*[x<=y]*x^2",y);
    return x;
}

def main(){
    x := Nice(3);
    y := Nice(4);
    return x+y; // expected: ((-3·r₁·⅟256+-r₁³·⅟2304+3·⅟256+r₁²·⅟256)·[-1+-r₁≤0]·r₁²+(3·r₁·⅟256+3·⅟256+r₁²·⅟256+r₁³·⅟2304)·[-1+r₁≤0]·r₁²+-27·[-1+-r₁≤0]·r₁·⅟512+-3·[-1+r₁≤0]·r₁³·⅟256+-[-1+-r₁≤0]·r₁⁴·⅟256+-[-1+r₁≤0]·r₁⁴·⅟256+-[-1+r₁≤0]·r₁⁵·⅟2560+-[-r₁+1≠0]·[-r₁+1≤0]·r₁·⅟6+27·[-1+r₁≤0]·r₁·⅟512+3·[-1+-r₁≤0]·r₁³·⅟256+4·[-r₁+1≠0]·[-r₁+1≤0]·⅟15+4·[1+r₁≠0]·[1+r₁≤0]·⅟15+81·[-1+-r₁≤0]·⅟1280+81·[-1+r₁≤0]·⅟1280+[-1+-r₁≤0]·r₁⁵·⅟2560+[-r₁+1≠0]·[-r₁+1≤0]·r₁²·⅟36+[1+r₁≠0]·[1+r₁≤0]·r₁²·⅟36+[1+r₁≠0]·[1+r₁≤0]·r₁·⅟6)·([-1+-r₁=0]+[-1+-r₁≤0]·[-1+r₁≤0]·[-r₁+1≠0]·[1+r₁≠0]+[-1+r₁=0]+[-7+-r₁≤0]·[-r₁+1≠0]·[1+r₁≠0]·[1+r₁≤0]+[-7+r₁≤0]·[-r₁+1≠0]·[-r₁+1≤0]·[1+r₁≠0])
}
