// TODO: the integrals should be evaluated
// TODO: make it very fast for N=500, as this is what they use
// TODO: allow probabilities of predicates to be evaluated

def main(){
    x := 0;
    //N := 500;
    //while (i < N){
    //repeat 500{
    repeat 5{
        x = x + uniform(0,1);
    }
    return x; // expected: (((-x·⅟2+3/2)·[-4+x≤0]·[-x+4≠0]+-[-x+4≤0]·⅟2)·x+(-3/2·x+9/4+x²·⅟4)·[-4+x≤0]·[-x+4≠0]+-4·[-x+4≠0]·[-x+4≤0]+[-x+4≠0]·[-x+4≤0]·x²·⅟4+[-x+4≤0]·⅟4)·([-4+x≤0]·[-x+3≤0]+[-5+x≤0]·[-x+4≠0]·[-x+4≤0])+((-1+-3·x²+3·x+x³)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(-x·⅟6+⅟6)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])+((-1+x)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(-x³·⅟6+-x·⅟2+x²·⅟2+⅟3)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])+((-2+x)·[-3+x≤0]+-[-x+3≤0]·x+3·[-x+3≤0]+[-x+3≠0]·[-x+3≤0])·(4·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+4·[-4+x≤0]·[-x+3≤0])·x+((-2+x)·[-3+x≤0]+-[-x+3≤0]·x+3·[-x+3≤0]+[-x+3≠0]·[-x+3≤0])·(7/2·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+7/2·[-4+x≤0]·[-x+3≤0])·x²+((-2+x)·[-3+x≤0]+[-x+3≠0]·[-x+3≤0])·(-x²+x³·⅟2)·([-3+x≤0]·[-x+2≤0]·[-x+3≠0]+[-4+x≤0]·[-x+3≤0])+((-27+-9·x²+27·x+x³)·[-4+x≤0]+[-x+4≠0]·[-x+4≤0])·(-x·⅟2+2/3)·([-4+x≤0]·[-x+3≤0]·[-x+4≠0]+[-5+x≤0]·[-x+4≤0])+((-27·x+-3·x³+27/2·x²+81/4+x⁴·⅟4)·[-4+x≤0]+-24·[-x+4≤0]·x²+-64·[-x+4≤0]+-[-x+4≤0]·x⁴·⅟4+4·[-x+4≤0]·x³+64·[-x+4≤0]·x+[-x+4≠0]·[-x+4≤0]·⅟4)·([-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟6+[-5+x≤0]·[-x+4≤0]·⅟6)+((-2·x+1+x²)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(-x·⅟2+x²·⅟4+⅟4)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])+((-2·x+2+x²·⅟2)·[-3+x≤0]+-9/2·[-x+3≤0]+-[-x+3≤0]·x²·⅟2+3·[-x+3≤0]·x+[-x+3≠0]·[-x+3≤0]·⅟2)·(-7·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+-7·[-4+x≤0]·[-x+3≤0])·x+((-2·x²+-8/3+4·x+x³·⅟3)·[-3+x≤0]+-9·[-x+3≤0]·x+-[-x+3≤0]·x³·⅟3+3·[-x+3≤0]·x²+9·[-x+3≤0]+[-x+3≠0]·[-x+3≤0]·⅟3)·([-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟2+[-4+x≤0]·[-x+3≤0]·⅟2)·x+((-3+-3/4·x²+3·x)·[-3+x≤0]+-3/4·[-x+3≠0]·[-x+3≤0])·([-3+x≤0]·[-x+2≤0]·[-x+3≠0]+[-4+x≤0]·[-x+3≤0])·x²+((-3+x)·[-4+x≤0]+-[-x+4≤0]·x+4·[-x+4≤0]+[-x+4≠0]·[-x+4≤0])·(-[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟6+-[-5+x≤0]·[-x+4≤0]·⅟6)·x³+((-3+x)·[-4+x≤0]·[-x+4≠0]+(-x+4)·[-x+4≠0]·[-x+4≤0]+[-x+4≤0])·(37/6·[-4+x≤0]·[-x+3≤0]+37/6·[-5+x≤0]·[-x+4≠0]·[-x+4≤0])+((-3·x+9/2+x²·⅟2)·[-4+x≤0]+-8·[-x+4≤0]+-[-x+4≤0]·x²·⅟2+4·[-x+4≤0]·x+[-x+4≠0]·[-x+4≤0]·⅟2)·([-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟2+[-5+x≤0]·[-x+4≤0]·⅟2)·x²+((-3·x²+-9+9·x+x³·⅟3)·[-4+x≤0]+-16·[-x+4≤0]·x+-[-x+4≤0]·x³·⅟3+4·[-x+4≤0]·x²+64/3·[-x+4≤0]+[-x+4≠0]·[-x+4≤0]·⅟3)·(-[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟2+-[-5+x≤0]·[-x+4≤0]·⅟2)·x+((-8·x+2·x²+8)·[-3+x≤0]+2·[-x+3≠0]·[-x+3≤0])·([-3+x≤0]·[-x+2≤0]·[-x+3≠0]+[-4+x≤0]·[-x+3≤0])·x+((-[-1+x≤0]·x²·⅟4+-[-x+1≠0]·[-x+1≤0]·⅟4)·x²+([-1+x≤0]·x³·⅟6+[-x+1≠0]·[-x+1≤0]·⅟6)·x+([-1+x≤0]·x·⅟6+[-x+1≠0]·[-x+1≤0]·⅟6)·x³+-x⁴·⅟24)·([-1+x≤0]·[-x≤0]+[-2+x≤0]·[-x+1≠0]·[-x+1≤0])+((-x+-x³·⅟3+x²+⅟3)·[-2+x≤0]+-[-x+2≠0]·[-x+2≤0]·⅟3)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])·x+((-x+x²·⅟2+⅟2)·[-2+x≤0]+-2·[-x+2≤0]+-[-x+2≤0]·x²·⅟2+2·[-x+2≤0]·x+[-x+2≠0]·[-x+2≤0]·⅟2)·(-3·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]+-3·[-3+x≤0]·[-x+2≤0])·x+((-x+x²·⅟2+⅟2)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0]·⅟2)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])·x²+((-x·⅟3+⅟3)·[-2+x≤0]+-[-x+2≠0]·[-x+2≤0]·⅟3)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])·x³+(-1/3+-x²·⅟2+x³·⅟6+x·⅟2)·(-2+x)·[-3+x≤0]·[-x+2≤0]+(-1/4+-x²·⅟4+x·⅟2)·(-4·x+4+x²)·[-3+x≤0]·[-x+2≤0]+(-1/6+x·⅟6)·(-6·x²+-8+12·x+x³)·[-3+x≤0]·[-x+2≤0]+(-12·x²+-64+48·x+x³)·(-2/3+x·⅟2)·[-5+x≤0]·[-x+4≤0]+(-3+x)·(-x³·⅟2+x²)·[-4+x≤0]·[-x+3≤0]+(-6·x+9+x²)·(-x+3/4·x²)·[-4+x≤0]·[-x+3≤0]+-11/3·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x³+-113/4·[-5+x≤0]·[-x+4≤0]·x²+-11·[-3+x≤0]·[-x+2≤0]+-13/2·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x²+-23/8·[-4+x≤0]·[-x+3≤0]+-27·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x+-281/8·[-x+3=0]+-3/2·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x+-331/24·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]+-4/3·[-3+x≤0]·[-x+2≤0]·x³+-42·[-5+x≤0]·[-x+4≤0]+-4·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x+-5/24·[-4+x≤0]·[-x+3≤0]·x⁴+-7/2·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x²+-9/2·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x³+-95/3·[-4+x≤0]·[-x+3≤0]·x+-9·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x+-[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·⅟24+-[-2+x≤0]·[-x+1≤0]·x³·⅟3+-[-2+x≤0]·[-x+1≤0]·x·⅟3+-[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x⁴·⅟4+-[-5+x≤0]·[-x+4≤0]·x⁴·⅟4+11/6·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x³+119/2·[-5+x≤0]·[-x+4≤0]·x+145/4·[-x+4=0]+14·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+17/4·[-4+x≤0]·[-x+3≤0]·x²+17/6·[-4+x≤0]·[-x+3≤0]·x³+2·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x²+3/2·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x²+3/2·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x³+33/4·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]+37/8·[-x+2=0]+41/24·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]+5/24·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x⁴+5/3·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x+5·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x²+63/4·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x²+7/4·[-3+x≤0]·[-x+2≤0]·x²+71/6·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x+7·[-3+x≤0]·[-x+2≤0]·x+81/4·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]+9/2·[-5+x≤0]·[-x+4≤0]·x³+[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x⁴·⅟24+[-2+x≤0]·[-x+1≤0]·x²·⅟2+[-2+x≤0]·[-x+1≤0]·x⁴·⅟12+[-2+x≤0]·[-x+1≤0]·⅟12+[-3+x≤0]·[-x+2≤0]·x⁴·⅟24+[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x⁴·⅟2
}
