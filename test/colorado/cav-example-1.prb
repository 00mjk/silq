// TODO: the integrals should be evaluated
// TODO: make it very fast for N=500, as this is what they use
// TODO: allow probabilities of predicates to be evaluated

def main(){
    x := 0;
    //N := 500;
    //while (i < N){
    //repeat 500{
    repeat 5{
        x = x + Uniform(0,1);
    }
    return x; // expected: (((-x·⅟2+3·⅟2)·[-4+x≤0]+-[-x+4≠0]·[-x+4≤0]·⅟2)·x+(-3·x·⅟2+9·⅟4+x²·⅟4)·[-4+x≤0]+-4·[-x+4≤0]+[-x+4≠0]·[-x+4≤0]·⅟4+[-x+4≤0]·x²·⅟4)·([-4+x≤0]·[-x+3≤0]·[-x+4≠0]+[-5+x≤0]·[-x+4≤0])·x²+((-1+x)·[-2+x≤0]+-[-x+2≠0]·[-x+2≤0]·x+3·[-x+2≠0]·[-x+2≤0])·(-5·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·⅟6+-5·[-3+x≤0]·[-x+2≤0]·⅟6)·x³+((-1+x)·[-2+x≤0]+-[-x+2≠0]·[-x+2≤0]·x+3·[-x+2≠0]·[-x+2≤0])·(-[-2+x≤0]·[-x+1≤0]·[-x+2≠0]+-[-3+x≤0]·[-x+2≤0])·x+((-1+x)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(-x·⅟2+⅟2)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])+((-2+x)·[-3+x≤0]+-[-x+3≤0]·x+3·[-x+3≤0]+[-x+3≠0]·[-x+3≤0])·(-3·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟2+-3·[-4+x≤0]·[-x+3≤0]·⅟2)·x+((-27·x+-3·x³+27·x²·⅟2+81·⅟4+x⁴·⅟4)·[-4+x≤0]+-24·[-x+4≤0]·x²+-64·[-x+4≤0]+-[-x+4≤0]·x⁴·⅟4+4·[-x+4≤0]·x³+64·[-x+4≤0]·x+[-x+4≠0]·[-x+4≤0]·⅟4)·(-5·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟6+-5·[-5+x≤0]·[-x+4≤0]·⅟6)+((-2·x+1+x²)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(-x+1)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])+((-2·x+2+x²·⅟2)·[-3+x≤0]+-9·[-x+3≤0]·⅟2+-[-x+3≤0]·x²·⅟2+3·[-x+3≤0]·x+[-x+3≠0]·[-x+3≤0]·⅟2)·(-3·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+-3·[-4+x≤0]·[-x+3≤0])·x+((-2·x²+-8·⅟3+4·x+x³·⅟3)·[-3+x≤0]+-9·[-x+3≤0]·x+-[-x+3≤0]·x³·⅟3+3·[-x+3≤0]·x²+9·[-x+3≤0]+[-x+3≠0]·[-x+3≤0]·⅟3)·(-[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+-[-4+x≤0]·[-x+3≤0])·x+((-2·x³+-8·x+4+6·x²+x⁴·⅟4)·[-3+x≤0]+-27·[-x+3≤0]·x²·⅟2+-81·[-x+3≤0]·⅟4+-[-x+3≤0]·x⁴·⅟4+27·[-x+3≤0]·x+3·[-x+3≤0]·x³+[-x+3≠0]·[-x+3≤0]·⅟4)·([-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟3+[-4+x≤0]·[-x+3≤0]·⅟3)+((-3+x)·[-4+x≤0]+-[-x+4≠0]·[-x+4≤0]·x+5·[-x+4≠0]·[-x+4≤0])·(-[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟2+-[-5+x≤0]·[-x+4≤0]·⅟2)·x³+((-3+x)·[-4+x≤0]+-[-x+4≠0]·[-x+4≤0]·x+5·[-x+4≠0]·[-x+4≤0])·([-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟2+[-5+x≤0]·[-x+4≤0]·⅟2)·x²+((-3+x)·[-4+x≤0]+-[-x+4≤0]·x+4·[-x+4≤0]+[-x+4≠0]·[-x+4≤0])·(-3·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟2+-3·[-5+x≤0]·[-x+4≤0]·⅟2)·x²+((-3+x)·[-4+x≤0]+-[-x+4≤0]·x+4·[-x+4≤0]+[-x+4≠0]·[-x+4≤0])·(5·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟6+5·[-5+x≤0]·[-x+4≤0]·⅟6)·x³+((-3·x+9·⅟2+x²·⅟2)·[-4+x≤0]+-15·[-x+4≠0]·[-x+4≤0]·⅟2+-[-x+4≠0]·[-x+4≤0]·x²·⅟2+4·[-x+4≠0]·[-x+4≤0]·x)·(-[-4+x≤0]·[-x+3≤0]·[-x+4≠0]+-[-5+x≤0]·[-x+4≤0])·x+((-3·x+9·⅟2+x²·⅟2)·[-4+x≤0]+-15·[-x+4≠0]·[-x+4≤0]·⅟2+-[-x+4≠0]·[-x+4≤0]·x²·⅟2+4·[-x+4≠0]·[-x+4≤0]·x)·(3·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟2+3·[-5+x≤0]·[-x+4≤0]·⅟2)·x²+((-3·x+9·⅟2+x²·⅟2)·[-4+x≤0]+-8·[-x+4≤0]+-[-x+4≤0]·x²·⅟2+4·[-x+4≤0]·x+[-x+4≠0]·[-x+4≤0]·⅟2)·(-5·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟2+-5·[-5+x≤0]·[-x+4≤0]·⅟2)·x²+((-3·x+9·⅟2+x²·⅟2)·[-4+x≤0]+-8·[-x+4≤0]+-[-x+4≤0]·x²·⅟2+4·[-x+4≤0]·x+[-x+4≠0]·[-x+4≤0]·⅟2)·(3·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]+3·[-5+x≤0]·[-x+4≤0])·x+((-3·x²+-9+9·x+x³·⅟3)·[-4+x≤0]+-16·[-x+4≤0]·x+-[-x+4≤0]·x³·⅟3+4·[-x+4≤0]·x²+64·[-x+4≤0]·⅟3+[-x+4≠0]·[-x+4≤0]·⅟3)·(5·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟2+5·[-5+x≤0]·[-x+4≤0]·⅟2)·x+((-6·x²+-8+12·x+x³)·[-3+x≤0]+[-x+3≠0]·[-x+3≤0])·(-2·⅟3+x·⅟2)·([-3+x≤0]·[-x+2≤0]·[-x+3≠0]+[-4+x≤0]·[-x+3≤0])+((-[-1+x≤0]·x²·⅟4+-[-x+1≠0]·[-x+1≤0]·⅟4)·x²+([-1+x≤0]·x³·⅟6+[-x+1≠0]·[-x+1≤0]·⅟6)·x+([-1+x≤0]·x·⅟6+[-x+1≠0]·[-x+1≤0]·⅟6)·x³+-[-x+1=0]·⅟12+-[-x+1≠0]·[-x+1≤0]·⅟24+-[-x+1≠0]·x⁴·⅟24+[-x+1≤0]·⅟24)·([-1+x≤0]·[-x+1≠0]·[-x≤0]+[-2+x≤0]·[-x+1≤0])+((-x+-x³+3·x²·⅟2+x⁴·⅟4+⅟4)·[-2+x≤0]+-15·[-x+2≠0]·[-x+2≤0]·⅟4+-6·[-x+2≠0]·[-x+2≤0]·x²+-[-x+2≠0]·[-x+2≤0]·x⁴·⅟4+2·[-x+2≠0]·[-x+2≤0]·x³+8·[-x+2≠0]·[-x+2≤0]·x)·(5·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·⅟6+5·[-3+x≤0]·[-x+2≤0]·⅟6)+((-x+x²·⅟2+⅟2)·[-2+x≤0]+-2·[-x+2≤0]+-[-x+2≤0]·x²·⅟2+2·[-x+2≤0]·x+[-x+2≠0]·[-x+2≤0]·⅟2)·(-2·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]+-2·[-3+x≤0]·[-x+2≤0])·x+((-x+x²·⅟2+⅟2)·[-2+x≤0]+-3·[-x+2≠0]·[-x+2≤0]·⅟2+-[-x+2≠0]·[-x+2≤0]·x²·⅟2+2·[-x+2≠0]·[-x+2≤0]·x)·(5·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·⅟2+5·[-3+x≤0]·[-x+2≤0]·⅟2)·x²+((-x+x²·⅟2+⅟2)·[-2+x≤0]+-3·[-x+2≠0]·[-x+2≤0]·⅟2+-[-x+2≠0]·[-x+2≤0]·x²·⅟2+2·[-x+2≠0]·[-x+2≤0]·x)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])·x+((-x²+-⅟3+x+x³·⅟3)·[-2+x≤0]+-4·[-x+2≠0]·[-x+2≤0]·x+-[-x+2≠0]·[-x+2≤0]·x³·⅟3+2·[-x+2≠0]·[-x+2≤0]·x²+3·[-x+2≠0]·[-x+2≤0])·(-5·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·⅟2+-5·[-3+x≤0]·[-x+2≤0]·⅟2)·x+((-x²+-⅟3+x+x³·⅟3)·[-2+x≤0]+-4·[-x+2≤0]·x+-[-x+2≤0]·x³·⅟3+2·[-x+2≤0]·x²+8·[-x+2≤0]·⅟3+[-x+2≠0]·[-x+2≤0]·⅟3)·(-[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·⅟2+-[-3+x≤0]·[-x+2≤0]·⅟2)·x+(-1+x)·(-4·x+4+x²)·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]+(-2+x)·(-⅟2+x·⅟2)·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]+(-27+-9·x²+27·x+x³)·(-x·⅟2+2·⅟3)·[-4+x≤0]·[-x+3≤0]+(-2·[-x+3≤0]·[-x+4≠0]+-2·[-x+4=0])·(-6+2·x)·[-4+x≤0]·x+(-2·x+4)·(-3+x)·[-4+x≤0]·[-x+3≤0]+(-3·[-x+3≤0]·[-x+4≠0]·⅟2+-3·[-x+4=0]·⅟2)·(-3·x²+-9+9·x+x³·⅟3)·[-4+x≤0]+(-3·[-x+3≤0]·[-x+4≠0]·⅟2+-3·[-x+4=0]·⅟2)·(-3·x²+-9+9·x+x³·⅟3)·[-4+x≤0]·x+-10·[-4+x≤0]·[-x+3≤0]·x³·⅟3+-131·[-4+x≤0]·[-x+3≤0]·x·⅟3+-13·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x²·⅟2+-151·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x·⅟6+-17·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x³·⅟3+-19·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x²·⅟4+-19·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x²·⅟4+-251·[-x+3=0]·⅟24+-29·[-3+x≤0]·[-x+2≤0]·x·⅟6+-29·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟4+-30·[-5+x≤0]·[-x+4≤0]+-31·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x·⅟3+-34·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟3+-353·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·⅟24+-5·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·⅟3+-7·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x·⅟2+-839·[-x+4=0]·⅟12+-[-2+x≤0]·[-x+1≤0]·x·⅟2+-[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x³·⅟2+-[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x⁴·⅟8+-[-3+x≤0]·[-x+2≤0]·x⁴·⅟4+-[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x³·⅟3+-[-5+x≤0]·[-x+4≤0]·x⁴·⅟8+107·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x·⅟6+19·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x²·⅟4+283·[-4+x≤0]·[-x+3≤0]·⅟8+29·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x·⅟3+2·[-3+x≤0]·[-x+2≤0]·x³·⅟3+2·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x²+35·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·⅟12+37·[-5+x≤0]·[-x+4≤0]·x·⅟2+3·[-2+x≤0]·[-x+1≤0]·⅟4+3·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x³·⅟2+3·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x⁴·⅟8+41·[-4+x≤0]·[-x+3≤0]·x²·⅟2+46·[-3+x≤0]·[-x+2≤0]·⅟3+5·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x³·⅟3+5·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x·⅟2+5·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·⅟12+5·[-5+x≤0]·[-x+4≤0]·x²·⅟4+5·[-x+2=0]·⅟3+73·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x²·⅟4+7·[-2+x≤0]·[-x+1≤0]·x²·⅟4+[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x⁴·⅟4+[-3+x≤0]·[-x+2≤0]·x²·⅟4+[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x³·⅟2+[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x⁴·⅟4+[-4+x≤0]·[-x+3≤0]·x⁴·⅟8+[-5+x≤0]·[-x+4≤0]·x³
}
