// skipped

dat Person{
    running: ℝ;
    x: ℝ, v: ℝ;
    def Person(running: ℝ){
        this.running = running;
        this.x = 0;
        this.v = 0;
    }
    def updateRunning(){
        if running {
            running=flip(9/10);
        }else{
            running=flip(1/10);
        }
    }
    def update(){
        updateRunning();
        v = if running { 5 } else { 2.5 };
        x = x+v;
    }
    def measureX(x: ℝ){
        o := this.x + gauss(0,1);
        cobserve(o,x);
    }
}

def main(){
    p := Person(0);
    data := [0,2.5,5,10,16.5];
    for i in [0..data.length){
        p.update();
        p.measureX(data[i]);
    }
    return p.running; // expected: ((59049·e^(1025·⅟8)·δ[-running]·⅟400000+6561·e¹³⁵·δ[-running+1]·⅟400000)·e^(225·⅟4)+(6561·e^(1085·⅟8)·δ[-running+1]·⅟400000+729·e¹³⁵·δ[-running]·⅟400000)·e^(425·⅟8)+(6561·e^(945·⅟8)·δ[-running+1]·⅟400000+729·e¹³⁰·δ[-running]·⅟400000)·⅟e^(25·⅟4)+(6561·e¹⁰⁰·δ[-running+1]·⅟400000+729·e^(945·⅟8)·δ[-running]·⅟400000)·⅟e⁷⁵+(729·e^(1085·⅟8)·δ[-running]·⅟400000+81·e¹³⁰·δ[-running+1]·⅟400000)·e^(75·⅟8)+(729·e¹³⁰·δ[-running]·⅟400000+81·e^(945·⅟8)·δ[-running+1]·⅟400000)·⅟e^(425·⅟8)+(729·e¹³⁵·δ[-running]·⅟400000+81·e^(1085·⅟8)·δ[-running+1]·⅟400000)·e^(175·⅟4)+(81·e^(945·⅟8)·δ[-running+1]·⅟400000+9·e¹³⁰·δ[-running]·⅟400000)·⅟e^(125·⅟4)+(81·e¹³⁰·δ[-running+1]·⅟400000+9·e^(1085·⅟8)·δ[-running]·⅟400000)·e^(125·⅟8)+6561·e^(1315·⅟8)·δ[-running+1]·⅟400000+729·e^(1355·⅟8)·δ[-running]·⅟400000+729·e¹²⁰·δ[-running]·⅟400000+729·e¹⁶⁰·δ[-running]·⅟400000+729·e¹⁷⁰·δ[-running]·⅟400000+81·e^(1285·⅟8)·δ[-running+1]·⅟400000+81·e^(205·⅟2)·δ[-running+1]·⅟400000+81·e^(915·⅟8)·δ[-running+1]·⅟400000+81·e¹⁵⁵·δ[-running+1]·⅟400000+81·e¹⁷⁰·δ[-running+1]·⅟400000+9·e^(1085·⅟8)·δ[-running]·⅟400000+9·e^(1285·⅟8)·δ[-running]·⅟400000+9·e^(915·⅟8)·δ[-running]·⅟400000+e¹³⁰·δ[-running+1]·⅟400000)·[((59049·e^(1025·⅟8)·⅟400000+6561·e¹³⁵·⅟400000)·e^(225·⅟4)+(6561·e^(1085·⅟8)·⅟400000+729·e¹³⁵·⅟400000)·e^(425·⅟8)+(6561·e^(945·⅟8)·⅟400000+729·e¹³⁰·⅟400000)·⅟e^(25·⅟4)+(6561·e¹⁰⁰·⅟400000+729·e^(945·⅟8)·⅟400000)·⅟e⁷⁵+(729·e^(1085·⅟8)·⅟400000+81·e¹³⁰·⅟400000)·e^(75·⅟8)+(729·e¹³⁰·⅟400000+81·e^(945·⅟8)·⅟400000)·⅟e^(425·⅟8)+(729·e¹³⁵·⅟400000+81·e^(1085·⅟8)·⅟400000)·e^(175·⅟4)+(81·e^(945·⅟8)·⅟400000+9·e¹³⁰·⅟400000)·⅟e^(125·⅟4)+(81·e¹³⁰·⅟400000+9·e^(1085·⅟8)·⅟400000)·e^(125·⅟8)+6561·e^(1315·⅟8)·⅟400000+729·e^(1355·⅟8)·⅟400000+729·e¹²⁰·⅟400000+729·e¹⁶⁰·⅟400000+81·e^(205·⅟2)·⅟400000+81·e¹⁵⁵·⅟400000+81·e¹⁷⁰·⅟40000+9·e^(1085·⅟8)·⅟400000+9·e^(1285·⅟8)·⅟40000+9·e^(915·⅟8)·⅟40000+e¹³⁰·⅟400000)·⅟e^(807·⅟4)·⅟π^(5·⅟2)·⅟√2̅≠0]·⅟((59049·e^(1025·⅟8)·⅟400000+6561·e¹³⁵·⅟400000)·e^(225·⅟4)+(6561·e^(1085·⅟8)·⅟400000+729·e¹³⁵·⅟400000)·e^(425·⅟8)+(6561·e^(945·⅟8)·⅟400000+729·e¹³⁰·⅟400000)·⅟e^(25·⅟4)+(6561·e¹⁰⁰·⅟400000+729·e^(945·⅟8)·⅟400000)·⅟e⁷⁵+(729·e^(1085·⅟8)·⅟400000+81·e¹³⁰·⅟400000)·e^(75·⅟8)+(729·e¹³⁰·⅟400000+81·e^(945·⅟8)·⅟400000)·⅟e^(425·⅟8)+(729·e¹³⁵·⅟400000+81·e^(1085·⅟8)·⅟400000)·e^(175·⅟4)+(81·e^(945·⅟8)·⅟400000+9·e¹³⁰·⅟400000)·⅟e^(125·⅟4)+(81·e¹³⁰·⅟400000+9·e^(1085·⅟8)·⅟400000)·e^(125·⅟8)+6561·e^(1315·⅟8)·⅟400000+729·e^(1355·⅟8)·⅟400000+729·e¹²⁰·⅟400000+729·e¹⁶⁰·⅟400000+81·e^(205·⅟2)·⅟400000+81·e¹⁵⁵·⅟400000+81·e¹⁷⁰·⅟40000+9·e^(1085·⅟8)·⅟400000+9·e^(1285·⅟8)·⅟40000+9·e^(915·⅟8)·⅟40000+e¹³⁰·⅟400000)
}
