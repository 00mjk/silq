def main(){ // didItRain
    cloudy := Bernoulli(0.5);
    rain := 0; sprinkler := 0;

    if (cloudy){
        rain = Bernoulli(0.8);
        sprinkler = Bernoulli(0.1);
    }else{
        rain = Bernoulli(0.2);
        sprinkler = Bernoulli(0.5);
    }

    temp1 := Bernoulli(0.7);
    wetRoof := temp1 && rain;
    temp2 := Bernoulli(0.9);
    temp3 := Bernoulli(0.9);
    wetGrass := temp2 && rain || temp3 && sprinkler;

    observe(wetGrass);
    return rain; // expected: ((1000·δ[-rain+1]·⅟6471+4000·δ[rain]·⅟6471)·(81·[rain=0]·⅟200+9·[rain≠0]·⅟10+9·⅟200)+(1000·δ[rain]·⅟6471+4000·δ[-rain+1]·⅟6471)·(81·[rain=0]·⅟1000+9·[rain≠0]·⅟10+9·⅟1000))·(3·⅟10+7·[rain=0]·⅟10+7·[rain≠0]·⅟10)
    // TODO: better simplification?
}