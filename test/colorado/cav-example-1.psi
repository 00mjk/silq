// TODO: the integrals should be evaluated
// TODO: make it very fast for N=500, as this is what they use
// TODO: allow probabilities of predicates to be evaluated

def main(){
    x := 0;
    //N := 500;
    //while (i < N){
    //repeat 500{
    repeat 5{
        x = x + uniform(0,1);
    }
    return x; // expected: (((-1+-3·x²+3·x+x³)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(-x·⅟6+⅟6)+((-1+x)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(-x³·⅟6+-⅟3+x²·⅟2)+((-2·x+1+x²)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(-x·⅟2+x²·⅟4)+(-2+x)·(-x²·⅟2+x³·⅟6+⅟3)·[-x+2≤0]+(-4·x+4+x²)·(-x²·⅟4+x·⅟2)·[-x+2≤0]+(-6·x²+-8+12·x+x³)·(-⅟6+x·⅟6)·[-x+2≤0]+(-x³·⅟6+-x·⅟6+x²·⅟4+x⁴·⅟24+⅟24)·[-2+x≤0]+-2·[-x+2≤0]·⅟3+-[-x+2≤0]·x²+-[-x+2≤0]·x⁴·⅟24+4·[-x+2≤0]·x·⅟3+[-x+2≠0]·[-x+2≤0]·⅟24+[-x+2≤0]·x³·⅟3)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])+(((-2+x)·[-3+x≤0]+[-x+3≠0]·[-x+3≤0])·(-13·⅟3+-3·x²·⅟2+9·x·⅟2+x³·⅟6)+((-4·x+4+x²)·[-3+x≤0]+[-x+3≠0]·[-x+3≤0])·(-9·⅟4+-x²·⅟4+3·x·⅟2)+((-6·x²+-8+12·x+x³)·[-3+x≤0]+[-x+3≠0]·[-x+3≤0])·(-⅟2+x·⅟6)+(-27+-9·x²+27·x+x³)·(-x·⅟6+⅟2)·[-x+3≤0]+(-2·⅟3+-x²+-x⁴·⅟24+4·x·⅟3+x³·⅟3)·[-3+x≤0]+(-3+x)·(-9·x·⅟2+-x³·⅟6+13·⅟3+3·x²·⅟2)·[-x+3≤0]+(-3·x·⅟2+9·⅟4+x²·⅟4)·(-6·x+9+x²)·[-x+3≤0]+-9·[-x+3≤0]·x·⅟2+-[-x+3≠0]·[-x+3≤0]·⅟24+-[-x+3≤0]·x³·⅟2+27·[-x+3≤0]·⅟8+9·[-x+3≤0]·x²·⅟4+[-x+3≤0]·x⁴·⅟24)·([-3+x≤0]·[-x+2≤0]·[-x+3≠0]+[-4+x≤0]·[-x+3≤0])+(((-2+x)·[-3+x≤0]+[-x+3≠0]·[-x+3≤0])·(-x²+3·x·⅟2+x³·⅟6)+((-4·x+4+x²)·[-3+x≤0]+[-x+3≠0]·[-x+3≤0])·(-3·⅟4+-x²·⅟4+x)+((-6·x²+-8+12·x+x³)·[-3+x≤0]+[-x+3≠0]·[-x+3≤0])·(-⅟3+x·⅟6)+(-27+-9·x²+27·x+x³)·(-x·⅟6+⅟3)·[-x+3≠0]·[-x+3≤0]+(-2·⅟3+-x²+-x⁴·⅟24+4·x·⅟3+x³·⅟3)·[-3+x≤0]+(-3+x)·(-3·x·⅟2+-x³·⅟6+x²)·[-x+3≠0]·[-x+3≤0]+(-6·x+9+x²)·(-x+3·⅟4+x²·⅟4)·[-x+3≠0]·[-x+3≤0]+-9·[-x+3≠0]·[-x+3≤0]·x·⅟2+-[-x+3≠0]·[-x+3≤0]·x³·⅟2+10·[-x+3≠0]·[-x+3≤0]·⅟3+9·[-x+3≠0]·[-x+3≤0]·x²·⅟4+[-x+3≠0]·[-x+3≤0]·x⁴·⅟24)·([-3+x≤0]·[-x+2≤0]+[-4+x≤0]·[-x+3≠0]·[-x+3≤0])+(((-27+-9·x²+27·x+x³)·[-4+x≤0]+[-x+4≠0]·[-x+4≤0])·(-x·⅟6+2·⅟3)+((-3+x)·[-4+x≤0]+[-x+4≠0]·[-x+4≤0])·(-8·x+-x³·⅟6+2·x²+32·⅟3)+((-6·x+9+x²)·[-4+x≤0]+[-x+4≠0]·[-x+4≤0])·(-2·x+4+x²·⅟4)+(-12·x²+-64+48·x+x³)·(-2·⅟3+x·⅟6)·[-x+4≤0]+(-2·x²+-32·⅟3+8·x+x³·⅟6)·(-4+x)·[-x+4≤0]+(-4+-x²·⅟4+2·x)·(-8·x+16+x²)·[-x+4≤0]+(-9·x·⅟2+-x³·⅟2+27·⅟8+9·x²·⅟4+x⁴·⅟24)·[-4+x≤0]+-32·[-x+4≤0]·⅟3+-4·[-x+4≤0]·x²+-[-x+4≤0]·x⁴·⅟24+2·[-x+4≤0]·x³·⅟3+32·[-x+4≤0]·x·⅟3+[-x+4≠0]·[-x+4≤0]·⅟24)·([-4+x≤0]·[-x+3≤0]·[-x+4≠0]+[-5+x≤0]·[-x+4≤0])+((-2+x)·[-3+x≤0]+-[-x+3≠0]·[-x+3≤0]·x+4·[-x+3≠0]·[-x+3≤0])·(-[-3+x≤0]·[-x+2≤0]·⅟6+-[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·⅟6)+((-2+x)·[-3+x≤0]+-[-x+3≤0]·x+3·[-x+3≤0]+[-x+3≠0]·[-x+3≤0])·(-3·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟2+-3·[-4+x≤0]·[-x+3≤0]·⅟2)·x²+((-2+x)·[-3+x≤0]+-[-x+3≤0]·x+3·[-x+3≤0]+[-x+3≠0]·[-x+3≤0])·(9·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟2+9·[-4+x≤0]·[-x+3≤0]·⅟2)·x+((-2+x)·[-3+x≤0]+-[-x+3≤0]·x+3·[-x+3≤0]+[-x+3≠0]·[-x+3≤0])·([-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟6+[-4+x≤0]·[-x+3≤0]·⅟6)·x³+((-2·x+2+x²·⅟2)·[-3+x≤0]+-9·[-x+3≤0]·⅟2+-[-x+3≤0]·x²·⅟2+3·[-x+3≤0]·x+[-x+3≠0]·[-x+3≤0]·⅟2)·(-[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟2+-[-4+x≤0]·[-x+3≤0]·⅟2)·x²+((-2·x+2+x²·⅟2)·[-3+x≤0]+-9·[-x+3≤0]·⅟2+-[-x+3≤0]·x²·⅟2+3·[-x+3≤0]·x+[-x+3≠0]·[-x+3≤0]·⅟2)·(3·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+3·[-4+x≤0]·[-x+3≤0])·x+((-2·x²+-8·⅟3+4·x+x³·⅟3)·[-3+x≤0]+-9·[-x+3≤0]·x+-[-x+3≤0]·x³·⅟3+3·[-x+3≤0]·x²+9·[-x+3≤0]+[-x+3≠0]·[-x+3≤0]·⅟3)·([-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟2+[-4+x≤0]·[-x+3≤0]·⅟2)·x+((-2·x³+-8·x+4+6·x²+x⁴·⅟4)·[-3+x≤0]+-27·[-x+3≤0]·x²·⅟2+-81·[-x+3≤0]·⅟4+-[-x+3≤0]·x⁴·⅟4+27·[-x+3≤0]·x+3·[-x+3≤0]·x³+[-x+3≠0]·[-x+3≤0]·⅟4)·(-[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟6+-[-4+x≤0]·[-x+3≤0]·⅟6)+((-[-1+x≤0]·x²·⅟4+-[-x+1≠0]·[-x+1≤0]·⅟4)·x²+([-1+x≤0]·x³·⅟6+[-x+1≠0]·[-x+1≤0]·⅟6)·x+([-1+x≤0]·x·⅟6+[-x+1≠0]·[-x+1≤0]·⅟6)·x³+-x⁴·⅟24)·([-1+x≤0]·[-x≤0]+[-2+x≤0]·[-x+1≠0]·[-x+1≤0])+-16·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·⅟3+-29·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x·⅟6+-2·[-4+x≤0]·[-x+3≤0]·x²+-4·[-4+x≤0]·[-x+3≤0]+-59·[-x+3=0]·⅟6+-5·[-2+x≤0]·[-x+1≤0]·⅟12+-5·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x³·⅟6+-5·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x·⅟6+-[-2+x≤0]·[-x+1≤0]·x²+-[-2+x≤0]·[-x+1≤0]·x⁴·⅟12+-[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x³·⅟2+-[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x·⅟2+13·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·⅟4+17·[-4+x≤0]·[-x+3≤0]·x·⅟6+3·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x²+5·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟3+[-2+x≤0]·[-x+1≤0]·x+[-2+x≤0]·[-x+1≤0]·x³·⅟2+[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x⁴·⅟12+[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x²·⅟2+[-3+x≤0]·[-x+2≤0]·x+[-4+x≤0]·[-x+3≤0]·x³·⅟2
}
