// skipped
def NewDistr(w){
    (x,y,z) := SampleFrom("(x,y,z;w) => [-1<=x]*[x<=1]*[-1<=y]*[y<=1]*|x|*|y|*delta(z-w)",w);
    return (x,y,z);
}

def main(){
    (x,y,z) := NewDistr(3);
    return (x+y+z); // expected: (((-6·r₁+9+r₁²)·[-4+r₁≤0]+[-r₁+4≠0]·[-r₁+4≤0])·(-3·⅟2+r₁·⅟2)+(-8·r₁+16+r₁²)·(-r₁·⅟2+3·⅟2)·[-r₁+4≠0]·[-r₁+4≤0]+(-9·r₁+-r₁³·⅟3+3·r₁²+9)·[-4+r₁≤0]+-4·[-r₁+4≠0]·[-r₁+4≤0]·r₁²+-65·[-r₁+4≠0]·[-r₁+4≤0]·⅟3+16·[-r₁+4≠0]·[-r₁+4≤0]·r₁+[-r₁+4≠0]·[-r₁+4≤0]·r₁³·⅟3)·([-4+r₁≤0]·[-r₁+3≤0]·[-r₁+4≠0]+[-5+r₁≤0]·[-r₁+4≠0]·[-r₁+4≤0]+[-r₁+4=0])+(((-6·r₁+9+r₁²)·[-r₁+2≠0]·[-r₁+2≤0]+[-2+r₁≤0])·(-r₁·⅟2+3·⅟2)+(-3·r₁²+-9+9·r₁+r₁³·⅟3)·[-r₁+2≠0]·[-r₁+2≤0]+(-3·⅟2+r₁·⅟2)·(-4·r₁+4+r₁²)·[-2+r₁≤0]+-4·[-2+r₁≤0]·r₁+-[-2+r₁≤0]·r₁³·⅟3+2·[-2+r₁≤0]·r₁²+7·[-2+r₁≤0]·⅟3)·([-2+r₁=0]+[-2+r₁≤0]·[-r₁+1≤0]·[-r₁+2≠0]+[-3+r₁≤0]·[-r₁+2≠0]·[-r₁+2≤0])+(-3·[-3+r₁≤0]·[-r₁+2≤0]+-3·[-4+r₁≤0]·[-r₁+3≤0])·[-r₁+3≠0]·r₁²+(-6·r₁+9+r₁²)·(-r₁·⅟2+3·⅟2)·[-3+r₁≤0]·[-r₁+2≤0]·[-r₁+3≠0]+(-[-r₁+2≤0]·[-r₁+3≠0]·⅟6+-[-r₁+3=0]·⅟6)·[-3+r₁≤0]·r₁³+(3·[-r₁+2≤0]·[-r₁+3≠0]·⅟2+3·[-r₁+3=0]·⅟2)·[-3+r₁≤0]·r₁²+([-3+r₁≤0]·[-r₁+2≤0]·⅟3+[-4+r₁≤0]·[-r₁+3≤0]·⅟3)·[-r₁+3≠0]·r₁³+-16·[-4+r₁≤0]·[-r₁+3≠0]·[-r₁+3≤0]·⅟3+-25·[-r₁+3=0]·⅟3+-41·[-3+r₁≤0]·[-r₁+2≤0]·[-r₁+3≠0]·⅟6+11·[-3+r₁≤0]·[-r₁+2≤0]·[-r₁+3≠0]·r₁·⅟2+8·[-4+r₁≤0]·[-r₁+3≠0]·[-r₁+3≤0]·r₁
}
