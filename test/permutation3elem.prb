def main(){
    x := UniformInt(1,3);
    y := UniformInt(1,3);
    z := UniformInt(1,3);
    observe(x!=y);
    observe(x!=z);
    observe(y!=z);
    s := x+y+z;
    a := x==1||y==1||z==1;
    b := x==2||y==2||z==2;
    c := x==3||y==3||z==3;
    t := a && b && c;
    r := Uniform(1,3);
    r = if r == 1 { x } else { if r == 2 { y } else { z } };
    return (r,s,t); // expected: (((([-s+6=0]·δ[-t+1]·⅟2+[-s+6≠0]·δ[t]·⅟2)·[-8+s≠0]+[-8+s=0]·δ[t]·⅟2)·[-7+s≠0]·[-r+2=0]+([-4+-r+s=0]·δ[t]·⅟2+[-4+-r+s≠0]·[-r+1≠0]·δ[t]·⅟2+[-5+s≠0]·[-r+1=0]·δ[t]·⅟2)·[-5+-r+s≠0]·[-r+2≠0]+([-s+6=0]·δ[-t+1]·⅟2+[-s+6≠0]·δ[t]·⅟2)·[-5+-r+s=0])·(2·δ[-4+-r+s]·⅟9+2·δ[-5+-r+s]·⅟9)·[-3+r≠0]·[-6+-r+s≠0]·[-s+2·r+3≠0]+(([-3+-r+s=0]·δ[t]·⅟2+[-3+-r+s≠0]·[-r+1≠0]·δ[t]·⅟2+[-4+s≠0]·[-r+1=0]·δ[t]·⅟2)·[-3+r≠0]·[-5+-r+s≠0]+([-s+6=0]·δ[-t+1]·⅟2+[-s+6≠0]·δ[t]·⅟2)·[-3+r=0]·[-8+s≠0]+([-s+6=0]·δ[-t+1]·⅟2+[-s+6≠0]·δ[t]·⅟2)·[-5+-r+s=0])·(2·δ[-3+-r+s]·⅟9+2·δ[-5+-r+s]·⅟9)·[-4+-r+s≠0]·[-r+2≠0]·[-s+2+2·r≠0]+(([-3+r=0]·[-7+s≠0]·δ[t]·⅟2+[-3+r≠0]·[-4+-r+s≠0]·δ[t]·⅟2+[-4+-r+s=0]·δ[t]·⅟2)·[-3+-r+s≠0]·[-r+2≠0]+([-s+6=0]·δ[-t+1]·⅟2+[-s+6≠0]·δ[t]·⅟2)·[-3+-r+s=0]+([-s+6=0]·δ[-t+1]·⅟2+[-s+6≠0]·δ[t]·⅟2)·[-5+s≠0]·[-r+2=0])·(2·δ[-3+-r+s]·⅟9+2·δ[-4+-r+s]·⅟9)·[-2+-r+s≠0]·[-r+1≠0]·[-s+1+2·r≠0])·(3·δ[-1+r]·⅟2+3·δ[-2+r]·⅟2+3·δ[-3+r]·⅟2)
    // TODO: simplify this better
    // eg: (δ[1-r]+δ[2-r]+δ[3-r])·⅟3·δ[6-s]·δ[1-t] would be nice
}