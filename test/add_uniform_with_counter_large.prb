// TODO: why is this so slow for even moderate number of iterations?
def main(){
    x := 0;
    y := 0;
    repeat 3{
        cur := Uniform(0,1);
        x = x + cur;
	if cur<1/2 { y+=1; }
    }
    //z:=x==y;
    observe(y==2);
    return x; // expected: ((((-8·[-1+x≤0]·⅟3+-8·[-2+x≤0]·[-x+1≤0]·⅟3)·[-1+x≠0]+-8·[-x+1=0]·⅟3)·[-2·x+3≠0]+-8·[-2·x+3=0]·⅟3)·[-2·x+3≤0]+-8·[-2·x+3≠0]·[-3+2·x≤0]·[-x+1≤0]·⅟3)·(((-1+x)·[-3+2·x≤0]+[-2·x+3≠0]·[-2·x+3≤0]·⅟2)·(([-1+x≠0]·[-2·x+3≠0]+[-2·x+3=0])·[-2·x+3≤0]+[-2·x+3≠0]·[-3+2·x≤0])·(([-2·x+3=0]+[-2·x+3≠0]·[-x+1≤0])·[-2·x+3≤0]+[-2·x+3≠0]·[-3+2·x≤0])+(-⅟2+x)·[-1+x≤0]·[-2·x+3≠0]·[-2·x+3≤0]+-[-2·x+3≠0]·[-2·x+3≤0]·x+3·[-2·x+3≠0]·[-2·x+3≤0]·⅟2)·x+(((([-1+x≤0]+[-2+x≤0]·[-x+1≤0])·[-1+x≠0]+[-x+1=0])·[-2·x+3≠0]+[-2·x+3=0])·[-2·x+3≤0]+[-2·x+3≠0]·[-3+2·x≤0]·[-x+1≤0])·(((-1+x)·[-3+2·x≤0]+[-2·x+3≠0]·[-2·x+3≤0]·⅟2)·(([-1+x≠0]·[-2·x+3≠0]+[-2·x+3=0])·[-2·x+3≤0]+[-2·x+3≠0]·[-3+2·x≤0])·(([-2·x+3=0]+[-2·x+3≠0]·[-x+1≤0])·[-2·x+3≤0]+[-2·x+3≠0]·[-3+2·x≤0])+(-⅟2+x)·[-1+x≤0]·[-2·x+3≠0]·[-2·x+3≤0])·(-8·x·⅟3+4·⅟3)+(((([-1+x≤0]+[-2+x≤0]·[-x+1≤0])·[-1+x≠0]+[-x+1=0])·[-2·x+3≠0]+[-2·x+3=0])·[-2·x+3≤0]+[-2·x+3≠0]·[-3+2·x≤0]·[-x+1≤0])·((-1+x)·[-3+2·x≤0]+[-2·x+3≠0]·[-2·x+3≤0]·⅟2)·((16·[-2·x+3=0]·⅟3+16·[-2·x+3≠0]·[-x+1≤0]·⅟3)·[-2·x+3≤0]+16·[-2·x+3≠0]·[-3+2·x≤0]·⅟3)·(([-1+x≠0]·[-2·x+3≠0]+[-2·x+3=0])·[-2·x+3≤0]+[-2·x+3≠0]·[-3+2·x≤0])+(((([-1+x≤0]+[-2+x≤0]·[-x+1≤0])·[-1+x≠0]+[-x+1=0])·[-2·x+3≠0]+[-2·x+3=0])·[-2·x+3≤0]+[-2·x+3≠0]·[-3+2·x≤0]·[-x+1≤0])·((-2·x+1+x²)·[-3+2·x≤0]+[-2·x+3≠0]·[-2·x+3≤0]·⅟4)·((8·[-2·x+3=0]·⅟3+8·[-2·x+3≠0]·[-x+1≤0]·⅟3)·[-2·x+3≤0]+8·[-2·x+3≠0]·[-3+2·x≤0]·⅟3)·(([-1+x≠0]·[-2·x+3≠0]+[-2·x+3=0])·[-2·x+3≤0]+[-2·x+3≠0]·[-3+2·x≤0])+(((-3·⅟2+x)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0]·⅟2)·(-x+1)+(-3·x·⅟2+9·⅟8+x²·⅟2)·[-2+x≤0]+-[-x+1≤0]·x+[-x+1≤0]·x²·⅟2+[-x+1≤0]·⅟2+[-x+2≠0]·[-x+2≤0]·⅟8)·(8·[-1+x≠0]·[-1+x≤0]·[-2·x+3≤0]·⅟3+8·[-3+2·x≤0]·[-x+2≠0]·[-x+2≤0]·⅟3)+(((-4·[-1+x≤0]·⅟3+-4·[-3+2·x≤0]·⅟3)·[-1+x≠0]+-4·[-x+1=0]·⅟3)·[-2·x+3≤0]+(-4·[-1+x≠0]·[-1+x≤0]·[-2·x+1≤0]·⅟3+-4·[-x+1≤0]·⅟3)·[-2·x+3≠0]·[-3+2·x≤0])·(((-[-2·x+3=0]+-[-2·x+3≠0])·[-2·x+3≤0]+-[-2·x+3≠0]·[-3+2·x≤0]·[-x+1≤0])·(-1+x)+(-⅟2+x)·[-1+x≤0]+[-1+x≠0]·[-x+1≤0]·⅟2)+(((-8·[-1+x≠0]·[-3+2·x≤0]·⅟3+-8·[-x+1=0]·⅟3)·[-x+1≤0]+-8·[-1+x≠0]·[-1+x≤0]·⅟3)·[-1+2·x≠0]·[-2·x+1≤0]+((-8·[-2·x+3=0]·⅟3+-8·[-2·x+3≠0]·[-x+1≤0]·⅟3)·[-1+2·x≠0]+-8·[-1+2·x=0]·⅟3)·[-1+2·x≤0])·(((-[-1+x≠0]·[-1+x≤0]·[-3+2·x≤0]·⅟2+-[-x+1≤0]·⅟2)·[-1+2·x≠0]·[-2·x+1≤0]+-[-1+2·x≤0]·⅟2)·((-x+x²+⅟4)·[-1+2·x≠0]·[-1+x≠0]·[-2·x+1≤0]·[-x+1≤0]+[-1+2·x=0]·⅟4+[-1+2·x≠0]·[-1+2·x≤0]·⅟4+[-1+2·x≠0]·[-1+x≤0]·[-2·x+1≤0]·⅟4)·(([-1+2·x=0]+[-1+2·x≠0]·[-2·x+3≠0])·[-1+2·x≤0]+([-1+x≠0]·[-1+x≤0]·[-2·x+3≠0]+[-x+1≤0])·[-1+2·x≠0]·[-2·x+1≤0])+(-x²·⅟2+-⅟2+x)·[-1+2·x≠0]·[-1+x≠0]·[-1+x≤0]·[-2·x+3≤0]+[-1+x≠0]·[-x+1≤0]·⅟2+[-1+x≤0]·x²·⅟2)+(((-8·[-1+x≠0]·[-3+2·x≤0]·⅟3+-8·[-x+1=0]·⅟3)·[-x+2≠0]·[-x+2≤0]+-8·[-1+x≠0]·[-1+x≤0]·[-2·x+3≤0]·⅟3)·[-1+2·x≠0]·[-2·x+1≤0]+-8·[-1+2·x≠0]·[-1+2·x≤0]·[-x+2≠0]·[-x+2≤0]·⅟3)·((-x+x²·⅟2+⅟2)·[-2+x≤0]+(-x²·⅟2+-⅟8+x·⅟2)·[-1+2·x≠0]·[-1+x≠0]·[-2·x+1≤0]·[-x+1≤0]+-[-1+2·x=0]·⅟8+-[-1+2·x≠0]·[-1+2·x≤0]·⅟8+-[-1+2·x≠0]·[-1+x≤0]·[-2·x+1≤0]·⅟8+[-x+2≠0]·[-x+2≤0]·⅟2)+(((-[-1+x≠0]·[-1+x≤0]·[-3+2·x≤0]+-[-x+1≤0])·[-1+2·x≠0]·[-2·x+1≤0]+-[-1+2·x≤0])·((-⅟2+x)·[-1+2·x≠0]·[-1+x≠0]·[-2·x+1≤0]·[-x+1≤0]+[-1+2·x=0]·⅟2+[-1+2·x≠0]·[-1+2·x≤0]·⅟2+[-1+2·x≠0]·[-1+x≤0]·[-2·x+1≤0]·⅟2)·(([-1+2·x=0]+[-1+2·x≠0]·[-2·x+3≠0])·[-1+2·x≤0]+([-1+x≠0]·[-1+x≤0]·[-2·x+3≠0]+[-x+1≤0])·[-1+2·x≠0]·[-2·x+1≤0])+(-x+1)·[-1+2·x≠0]·[-1+x≠0]·[-1+x≤0]·[-2·x+3≤0]+[-1+x≠0]·[-x+1≤0]+[-1+x≤0]·x)·(((8·[-1+x≠0]·[-3+2·x≤0]·⅟3+8·[-x+1=0]·⅟3)·[-x+1≤0]+8·[-1+x≠0]·[-1+x≤0]·⅟3)·[-1+2·x≠0]·[-2·x+1≤0]+((8·[-2·x+3=0]·⅟3+8·[-2·x+3≠0]·[-x+1≤0]·⅟3)·[-1+2·x≠0]+8·[-1+2·x=0]·⅟3)·[-1+2·x≤0])·x+(((4·[-1+x≤0]·⅟3+4·[-2+x≤0]·[-x+1≤0]·⅟3)·[-1+x≠0]+4·[-x+1=0]·⅟3)·[-2·x+3≠0]+4·[-2·x+3=0]·⅟3)·((-⅟2+x)·[-1+x≤0]·[-2·x+3≠0]+([-1+x≠0]·[-2·x+3≠0]+[-2·x+3=0])·([-2·x+3=0]+[-2·x+3≠0]·[-x+1≤0])·([-2·x+3≠0]·⅟2+[-3+2·x≤0]·⅟2)+-[-2·x+3≠0]·x+3·[-2·x+3≠0]·⅟2)·[-2·x+3≤0]+(((8·[-1+x≠0]·[-3+2·x≤0]·⅟3+8·[-x+1=0]·⅟3)·[-x+2≠0]·[-x+2≤0]+8·[-1+x≠0]·[-1+x≤0]·[-2·x+3≤0]·⅟3)·[-1+2·x≠0]·[-2·x+1≤0]+8·[-1+2·x≠0]·[-1+2·x≤0]·[-x+2≠0]·[-x+2≤0]·⅟3)·((-1+x)·[-2+x≤0]+(-x+⅟2)·[-1+2·x≠0]·[-1+x≠0]·[-2·x+1≤0]·[-x+1≤0]+-[-1+2·x=0]·⅟2+-[-1+2·x≠0]·[-1+2·x≤0]·⅟2+-[-1+2·x≠0]·[-1+x≤0]·[-2·x+1≤0]·⅟2+[-x+2≠0]·[-x+2≤0])·x+((([-1+x≠0]·[-3+2·x≤0]+[-x+1=0])·[-x+2≠0]·[-x+2≤0]+[-1+x≠0]·[-1+x≤0]·[-2·x+3≤0])·[-1+2·x≠0]·[-2·x+1≤0]+[-1+2·x≠0]·[-1+2·x≤0]·[-x+2≠0]·[-x+2≤0])·((-1+x)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(-8·x·⅟3+8·⅟3)+((([-1+x≠0]·[-3+2·x≤0]+[-x+1=0])·[-x+2≠0]·[-x+2≤0]+[-1+x≠0]·[-1+x≤0]·[-2·x+3≤0])·[-1+2·x≠0]·[-2·x+1≤0]+[-1+2·x≠0]·[-1+2·x≤0]·[-x+2≠0]·[-x+2≤0])·((-⅟2+x)·[-1+2·x≠0]·[-1+x≠0]·[-2·x+1≤0]·[-x+1≤0]+[-1+2·x=0]·⅟2+[-1+2·x≠0]·[-1+2·x≤0]·⅟2+[-1+2·x≠0]·[-1+x≤0]·[-2·x+1≤0]·⅟2)·(-8·⅟3+8·x·⅟3)+((-1+x)·[-3+2·x≤0]+(-x+⅟2)·[-1+2·x≠0]·[-2·x+1≤0]+[-2·x+3≠0]·[-2·x+3≤0]·⅟2)·(-8·[-1+2·x≠0]·[-1+2·x≤0]·[-x+1≤0]·⅟3+-8·[-1+2·x≠0]·[-1+x≤0]·[-2·x+3≠0]·[-2·x+3≤0]·⅟3)·x+((-1+x)·[-3+2·x≤0]+[-2·x+3≠0]·[-2·x+3≤0]·⅟2)·(-4·⅟3+8·x·⅟3)·([-1+2·x≠0]·[-1+2·x≤0]·[-x+1≤0]+[-1+2·x≠0]·[-1+x≤0]·[-2·x+3≠0]·[-2·x+3≤0])+((-8·[-1+x≠0]·[-3+2·x≤0]·⅟3+-8·[-x+1=0]·⅟3)·[-x+1≤0]+-8·[-1+x≠0]·[-1+x≤0]·[-2·x+1≤0]·⅟3)·((-x·⅟2+x²·⅟2+⅟8)·[-1+x≤0]+-[-x+1≤0]·x²·⅟2+-[-x+1≤0]·⅟2+[-1+x≠0]·[-x+1≤0]·⅟8+[-x+1≤0]·x)+((-8·[-2+x≤0]·[-2·x+3≠0]·⅟3+-8·[-2·x+3=0]·⅟3)·[-2·x+3≤0]+-8·[-2·x+3≠0]·[-3+2·x≤0]·[-x+1≤0]·⅟3)·(-[-2·x+3≠0]·[-3+2·x≤0]·⅟2+-[-2·x+3≤0]·x+-[-3+2·x≤0]·⅟2+[-2·x+3≠0]·[-2·x+3≤0]+[-2·x+3≤0]+[-3+2·x≤0]·x)·x+-4·[-1+2·x≠0]·[-1+2·x≤0]·[-x+1≤0]+-4·[-1+2·x≠0]·[-1+x≠0]·[-2·x+1≤0]·[-3+2·x≤0]·[-x+2≠0]·[-x+2≤0]·x²·⅟3+-4·[-1+2·x≠0]·[-1+x≤0]·[-2·x+3≠0]·[-2·x+3≤0]·x·⅟3+-4·[-1+x≠0]·[-3+2·x≤0]·[-x+1≤0]·x²+-4·[-2+x≤0]·[-2·x+3≠0]·[-2·x+3≤0]·x²·⅟3+-4·[-2·x+3≠0]·[-3+2·x≤0]·[-x+1≤0]+-8·[-1+2·x≠0]·[-1+x≠0]·[-1+x≤0]·[-2·x+3≤0]·x·⅟3+-8·[-1+2·x≠0]·[-1+x≤0]·[-2·x+3≠0]·[-2·x+3≤0]·x²·⅟3+-8·[-1+x≠0]·[-1+x≤0]·[-2·x+1≤0]·x·⅟3+-8·[-1+x≠0]·[-2+x≤0]·[-2·x+3≠0]·[-2·x+3≤0]·[-x+1≤0]·x·⅟3+-[-1+x≠0]·[-3+2·x≤0]·[-x+1≤0]+10·[-1+2·x≠0]·[-1+x≤0]·[-2·x+3≠0]·[-2·x+3≤0]·⅟3+16·[-2+x≤0]·[-2·x+3≠0]·[-2·x+3≤0]·⅟3+20·[-1+x≠0]·[-3+2·x≤0]·[-x+1≤0]·x·⅟3+2·[-1+x≠0]·[-1+x≤0]·[-2·x+3≠0]·[-2·x+3≤0]+4·[-1+2·x≠0]·[-1+2·x≤0]·[-x+1≤0]·x+4·[-1+2·x≠0]·[-1+x≠0]·[-1+x≤0]·[-2·x+3≤0]·x²·⅟3+4·[-1+2·x≠0]·[-1+x≠0]·[-2·x+1≤0]·[-3+2·x≤0]·[-x+2≠0]·[-x+2≤0]·x·⅟3+4·[-1+x≠0]·[-1+x≤0]·[-2·x+1≤0]·x²+4·[-1+x≠0]·[-2+x≤0]·[-2·x+3≠0]·[-2·x+3≤0]·[-x+1≤0]+4·[-2·x+3≠0]·[-3+2·x≤0]·[-x+1≤0]·x²·⅟3+5·[-x+1=0]·⅟3+7·[-2·x+3=0]·⅟3+8·[-1+x≠0]·[-1+x≤0]·[-2·x+3≠0]·[-2·x+3≤0]·x²·⅟3+8·[-2·x+3≠0]·[-3+2·x≤0]·[-x+1≤0]·x·⅟3+[-1+2·x≠0]·[-1+2·x≤0]·[-x+2≠0]·[-x+2≤0]+[-1+2·x≠0]·[-1+x≠0]·[-1+x≤0]·[-2·x+3≤0]+[-1+2·x≠0]·[-1+x≠0]·[-2·x+1≤0]·[-3+2·x≤0]·[-x+2≠0]·[-x+2≤0]+[-1+x≠0]·[-1+x≤0]·[-2·x+1≤0]·⅟3
}
