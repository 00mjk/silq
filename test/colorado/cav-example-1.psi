// TODO: the integrals should be evaluated
// TODO: make it very fast for N=500, as this is what they use
// TODO: allow probabilities of predicates to be evaluated

def main(){
    x := 0;
    //N := 500;
    //while (i < N){
    //repeat 500{
    repeat 5{
        x = x + uniform(0,1);
    }
    return x; // expected: ((-1+x)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(-x+-x³·⅟2+3/2·x²)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])+((-1+x)·[-2+x≤0]·[-x+2≠0]+[-x+2≤0])·(-1+-2·x²+5/2·x+x³·⅟2)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])+((-1/2+x·⅟2)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0]·⅟2)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])·x³+((-2+x)·[-3+x≤0]+-[-x+3≠0]·[-x+3≤0]·x+4·[-x+3≠0]·[-x+3≤0])·(2/3·[-3+x≤0]·[-x+2≤0]+2/3·[-4+x≤0]·[-x+3≠0]·[-x+3≤0])·x³+((-2+x)·[-3+x≤0]+-[-x+3≤0]·x+3·[-x+3≤0]+[-x+3≠0]·[-x+3≤0])·(3/2·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+3/2·[-4+x≤0]·[-x+3≤0])·x+((-2+x)·[-3+x≤0]+-[-x+3≤0]·x+3·[-x+3≤0]+[-x+3≠0]·[-x+3≤0])·([-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟3+[-4+x≤0]·[-x+3≤0]·⅟3)·x³+((-2+x)·[-3+x≤0]+[-x+3≠0]·[-x+3≤0])·(-x²·⅟2+x)·([-3+x≤0]·[-x+2≤0]+[-4+x≤0]·[-x+3≠0]·[-x+3≤0])+((-27·x+-3·x³+27/2·x²+81/4+x⁴·⅟4)·[-4+x≤0]+-24·[-x+4≤0]·x²+-64·[-x+4≤0]+-[-x+4≤0]·x⁴·⅟4+4·[-x+4≤0]·x³+64·[-x+4≤0]·x+[-x+4≠0]·[-x+4≤0]·⅟4)·(2/3·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]+2/3·[-5+x≤0]·[-x+4≤0])+((-2·x+1+x²)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(-3/2·x+3/4·x²+⅟2)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])+((-2·x+2+x²·⅟2)·[-3+x≤0]+-4·[-x+3≠0]·[-x+3≤0]+-[-x+3≠0]·[-x+3≤0]·x²·⅟2+3·[-x+3≠0]·[-x+3≤0]·x)·(-2·[-3+x≤0]·[-x+2≤0]+-2·[-4+x≤0]·[-x+3≠0]·[-x+3≤0])·x²+((-2·x+2+x²·⅟2)·[-3+x≤0]+-9/2·[-x+3≤0]+-[-x+3≤0]·x²·⅟2+3·[-x+3≤0]·x+[-x+3≠0]·[-x+3≤0]·⅟2)·(-[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+-[-4+x≤0]·[-x+3≤0])·x²+((-2·x+2+x²·⅟2)·[-3+x≤0]+-9/2·[-x+3≤0]+-[-x+3≤0]·x²·⅟2+3·[-x+3≤0]·x+[-x+3≠0]·[-x+3≤0]·⅟2)·(3·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+3·[-4+x≤0]·[-x+3≤0])·x+((-2·x²+-8/3+4·x+x³·⅟3)·[-3+x≤0]+-9·[-x+3≠0]·[-x+3≤0]·x+-[-x+3≠0]·[-x+3≤0]·x³·⅟3+28/3·[-x+3≠0]·[-x+3≤0]+3·[-x+3≠0]·[-x+3≤0]·x²)·(2·[-3+x≤0]·[-x+2≤0]+2·[-4+x≤0]·[-x+3≠0]·[-x+3≤0])·x+((-2·x³+-8·x+4+6·x²+x⁴·⅟4)·[-3+x≤0]+-20·[-x+3≠0]·[-x+3≤0]+-27/2·[-x+3≠0]·[-x+3≤0]·x²+-[-x+3≠0]·[-x+3≤0]·x⁴·⅟4+27·[-x+3≠0]·[-x+3≤0]·x+3·[-x+3≠0]·[-x+3≤0]·x³)·(-2/3·[-3+x≤0]·[-x+2≤0]+-2/3·[-4+x≤0]·[-x+3≠0]·[-x+3≤0])+((-2·x³+-8·x+4+6·x²+x⁴·⅟4)·[-3+x≤0]+-27/2·[-x+3≤0]·x²+-81/4·[-x+3≤0]+-[-x+3≤0]·x⁴·⅟4+27·[-x+3≤0]·x+3·[-x+3≤0]·x³+[-x+3≠0]·[-x+3≤0]·⅟4)·(-[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟3+-[-4+x≤0]·[-x+3≤0]·⅟3)+((-3+x)·[-4+x≤0]+-[-x+4≤0]·x+4·[-x+4≤0]+[-x+4≠0]·[-x+4≤0])·(-2/3·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]+-2/3·[-5+x≤0]·[-x+4≤0])·x³+((-3+x)·[-4+x≤0]+-[-x+4≤0]·x+4·[-x+4≤0]+[-x+4≠0]·[-x+4≤0])·(3/2·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]+3/2·[-5+x≤0]·[-x+4≤0])·x²+((-3+x)·[-4+x≤0]+-[-x+4≤0]·x+4·[-x+4≤0]+[-x+4≠0]·[-x+4≤0])·([-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟2+[-5+x≤0]·[-x+4≤0]·⅟2)·x+((-3+x)·[-4+x≤0]+[-x+4≠0]·[-x+4≤0])·(-12·x+3·x²)·([-4+x≤0]·[-x+3≤0]·[-x+4≠0]+[-5+x≤0]·[-x+4≤0])+((-3+x)·[-4+x≤0]·[-x+4≠0]+[-x+4≤0])·(-x·⅟2+2)·([-4+x≤0]·[-x+3≤0]·[-x+4≠0]+[-5+x≤0]·[-x+4≤0])+((-3·x+9/2+x²·⅟2)·[-4+x≤0]+-8·[-x+4≤0]+-[-x+4≤0]·x²·⅟2+4·[-x+4≤0]·x+[-x+4≠0]·[-x+4≤0]·⅟2)·(-3·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]+-3·[-5+x≤0]·[-x+4≤0])·x+((-3·x+9/2+x²·⅟2)·[-4+x≤0]+-8·[-x+4≤0]+-[-x+4≤0]·x²·⅟2+4·[-x+4≤0]·x+[-x+4≠0]·[-x+4≤0]·⅟2)·(2·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]+2·[-5+x≤0]·[-x+4≤0])·x²+((-3·x+9/2+x²·⅟2)·[-4+x≤0]·[-x+4≠0]+-15/2·[-x+4≤0]+-[-x+4≤0]·x²·⅟2+4·[-x+4≤0]·x)·(-[-4+x≤0]·[-x+3≤0]·[-x+4≠0]+-[-5+x≤0]·[-x+4≤0])·x+((-3·x²+-9+9·x+x³·⅟3)·[-4+x≤0]+-16·[-x+4≤0]·x+-[-x+4≤0]·x³·⅟3+4·[-x+4≤0]·x²+64/3·[-x+4≤0]+[-x+4≠0]·[-x+4≤0]·⅟3)·(-2·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]+-2·[-5+x≤0]·[-x+4≤0])·x+((-6·x+9+x²)·[-4+x≤0]+[-x+4≠0]·[-x+4≤0])·(-3·x+6)·([-4+x≤0]·[-x+3≤0]·[-x+4≠0]+[-5+x≤0]·[-x+4≤0])+((-6·x²+-8+12·x+x³)·[-3+x≤0]+[-x+3≠0]·[-x+3≤0])·(-x·⅟2+2/3)·([-3+x≤0]·[-x+2≤0]+[-4+x≤0]·[-x+3≠0]·[-x+3≤0])+((-8+4·x)·[-3+x≤0]+4·[-x+3≠0]·[-x+3≤0])·([-3+x≤0]·[-x+2≤0]+[-4+x≤0]·[-x+3≠0]·[-x+3≤0])·x+((-[-1+x≤0]·[-x+1≠0]·x²·⅟4+-[-x+1≤0]·⅟4)·x²+([-1+x≤0]·[-x+1≠0]·x³·⅟6+[-x+1≤0]·⅟6)·x+([-1+x≤0]·[-x+1≠0]·x·⅟6+[-x+1≤0]·⅟6)·x³+-x⁴·⅟24)·([-1+x≤0]·[-x+1≠0]·[-x≤0]+[-2+x≤0]·[-x+1≤0])+((-x+2)·[-3+x≤0]+-[-x+3≠0]·[-x+3≤0])·([-3+x≤0]·[-x+2≤0]+[-4+x≤0]·[-x+3≠0]·[-x+3≤0])·x²+((-x·⅟2+3/2)·[-4+x≤0]·[-x+4≠0]+-[-x+4≤0]·⅟2)·([-4+x≤0]·[-x+3≤0]·[-x+4≠0]+[-5+x≤0]·[-x+4≤0])·x+(-1+-3·x²+3·x+x³)·(-x·⅟6+⅟6)·[-2+x≤0]·[-x+1≤0]+(-1+-3·x²+3·x+x³)·(-x·⅟6+⅟6)·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]+(-2+x)·(-3/2·x²+x+x³·⅟2)·[-3+x≤0]·[-x+2≤0]+(-2/3+x·⅟2)·(-27+-9·x²+27·x+x³)·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]+(-2·x+1+x²)·(-x·⅟2+x²·⅟4+⅟4)·[-2+x≤0]·[-x+1≤0]+(-2·x+1+x²)·(-x·⅟2+x²·⅟4+⅟4)·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]+(-6+3·x)·(-8·x+16+x²)·[-5+x≤0]·[-x+4≤0]+(-6·x+9+x²)·(-x·⅟2+⅟2)·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]+-13/6·[-3+x≤0]·[-x+2≤0]·x³+-13·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x+-14/3·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x³+-14·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x²+-15/4·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x²+-17/3·[-5+x≤0]·[-x+4≤0]·x³+-19/2·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x²+-19/3·[-3+x≤0]·[-x+2≤0]·x+-217/8·[-x+4=0]+-3/8·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x⁴+-31/4·[-4+x≤0]·[-x+3≤0]+-422/3·[-5+x≤0]·[-x+4≤0]·x+-5/4·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x⁴+-55/2·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x²+-55/4·[-x+3=0]+-577/8·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]+-625/12·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]+-7/24·[-2+x≤0]·[-x+1≤0]·x⁴+-75/4·[-4+x≤0]·[-x+3≤0]·x²+-9/4·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]+-[-2+x≤0]·[-x+1≤0]·x³·⅟6+-[-2+x≤0]·[-x+1≤0]·x·⅟6+-[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x²+-[-4+x≤0]·[-x+3≤0]·x⁴·⅟3+-[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x⁴·⅟4+11/2·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x³+11/4·[-3+x≤0]·[-x+2≤0]·x²+113/24·[-x+2=0]+13/2·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x+148/3·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x+2/3·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x³+2·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x³+3/8·[-2+x≤0]·[-x+1≤0]+313/6·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x+35/6·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x³+37/6·[-4+x≤0]·[-x+3≤0]·x³+45·[-5+x≤0]·[-x+4≤0]·x²+467/3·[-5+x≤0]·[-x+4≤0]+5/4·[-2+x≤0]·[-x+1≤0]·x²+53/4·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x²+5·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+64/3·[-4+x≤0]·[-x+3≤0]·x+7/6·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x+7/8·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]+89/8·[-3+x≤0]·[-x+2≤0]+8·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x+[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·⅟6+[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x⁴·⅟3+[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x³·⅟6+[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x⁴·⅟8+[-5+x≤0]·[-x+4≤0]·x⁴·⅟8
}
