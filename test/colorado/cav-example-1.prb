// TODO: the integrals should be evaluated
// TODO: make it very fast for N=500, as this is what they use
// TODO: allow probabilities of predicates to be evaluated

def main(){
    x := 0;
    //N := 500;
    //while (i < N){
    //repeat 500{
    repeat 5{
        x = x + Uniform(0,1);
    }
    return x; // expected: (((-1+-3·x²+3·x+x³)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(-x·⅟6+⅟6)+((-1+x)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(-x³·⅟6+-x·⅟2+x²·⅟2+⅟3)+((-2·x+1+x²)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(-x·⅟2+x²·⅟4+⅟4)+(-2+x)·(-x²·⅟2+-⅟3+x³·⅟6+x·⅟2)·[-x+2≤0]+(-4·x+4+x²)·(-x²·⅟4+-⅟4+x·⅟2)·[-x+2≤0]+(-6·x²+-8+12·x+x³)·(-⅟6+x·⅟6)·[-x+2≤0]+(-x³·⅟6+-x·⅟6+x²·⅟4+x⁴·⅟24+⅟24)·[-2+x≤0]+-2·[-x+2≤0]·⅟3+-[-x+2≤0]·x²+-[-x+2≤0]·x⁴·⅟24+4·[-x+2≤0]·x·⅟3+[-x+2≠0]·[-x+2≤0]·⅟24+[-x+2≤0]·x³·⅟3)·([-2+x≤0]·[-x+1≤0]·[-x+2≠0]+[-3+x≤0]·[-x+2≤0])+((-2+x)·[-3+x≤0]+-[-x+3≤0]·x+3·[-x+3≤0]+[-x+3≠0]·[-x+3≤0])·(3·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟2+3·[-4+x≤0]·[-x+3≤0]·⅟2)·x+((-2+x)·[-3+x≤0]+-[-x+3≤0]·x+3·[-x+3≤0]+[-x+3≠0]·[-x+3≤0])·([-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟3+[-4+x≤0]·[-x+3≤0]·⅟3)·x³+((-2+x)·[-3+x≤0]·[-x+3≠0]+-[-x+3≤0]·x+4·[-x+3≤0])·([-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟6+[-4+x≤0]·[-x+3≤0]·⅟6)·x³+((-27·x+-3·x³+27·x²·⅟2+81·⅟4+x⁴·⅟4)·[-4+x≤0]+-24·[-x+4≤0]·x²+-64·[-x+4≤0]+-[-x+4≤0]·x⁴·⅟4+4·[-x+4≤0]·x³+64·[-x+4≤0]·x+[-x+4≠0]·[-x+4≤0]·⅟4)·([-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟6+[-5+x≤0]·[-x+4≤0]·⅟6)+((-2·x+2+x²·⅟2)·[-3+x≤0]+-9·[-x+3≤0]·⅟2+-[-x+3≤0]·x²·⅟2+3·[-x+3≤0]·x+[-x+3≠0]·[-x+3≤0]·⅟2)·(-[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+-[-4+x≤0]·[-x+3≤0])·x²+((-2·x+2+x²·⅟2)·[-3+x≤0]+-9·[-x+3≤0]·⅟2+-[-x+3≤0]·x²·⅟2+3·[-x+3≤0]·x+[-x+3≠0]·[-x+3≤0]·⅟2)·(3·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+3·[-4+x≤0]·[-x+3≤0])·x+((-2·x+2+x²·⅟2)·[-3+x≤0]·[-x+3≠0]+-4·[-x+3≤0]+-[-x+3≤0]·x²·⅟2+3·[-x+3≤0]·x)·(-[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟2+-[-4+x≤0]·[-x+3≤0]·⅟2)+((-2·x+2+x²·⅟2)·[-3+x≤0]·[-x+3≠0]+-4·[-x+3≤0]+-[-x+3≤0]·x²·⅟2+3·[-x+3≤0]·x)·(-[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟2+-[-4+x≤0]·[-x+3≤0]·⅟2)·x²+((-2·x³+-8·x+4+6·x²+x⁴·⅟4)·[-3+x≤0]+-27·[-x+3≤0]·x²·⅟2+-81·[-x+3≤0]·⅟4+-[-x+3≤0]·x⁴·⅟4+27·[-x+3≤0]·x+3·[-x+3≤0]·x³+[-x+3≠0]·[-x+3≤0]·⅟4)·(-[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟3+-[-4+x≤0]·[-x+3≤0]·⅟3)+((-3+x)·[-4+x≤0]+-[-x+4≤0]·x+4·[-x+4≤0]+[-x+4≠0]·[-x+4≤0])·(-[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟6+-[-5+x≤0]·[-x+4≤0]·⅟6)·x³+((-3+x)·[-4+x≤0]+[-x+4≠0]·[-x+4≤0])·(-3·x+4+x²·⅟2)·([-4+x≤0]·[-x+3≤0]·[-x+4≠0]+[-5+x≤0]·[-x+4≤0])+((-3+x)·[-4+x≤0]·[-x+4≠0]+-[-x+4≤0]·x+5·[-x+4≤0])·(13·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟6+13·[-5+x≤0]·[-x+4≤0]·⅟6)+((-3·x²+-9+9·x+x³·⅟3)·[-4+x≤0]+-16·[-x+4≤0]·x+-[-x+4≤0]·x³·⅟3+4·[-x+4≤0]·x²+64·[-x+4≤0]·⅟3+[-x+4≠0]·[-x+4≤0]·⅟3)·(-[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·⅟2+-[-5+x≤0]·[-x+4≤0]·⅟2)·x+((-4+2·x)·[-3+x≤0]·[-x+3≠0]+2·[-x+3≤0])·([-3+x≤0]·[-x+2≤0]·[-x+3≠0]+[-4+x≤0]·[-x+3≤0])·x+((-6·x+9+x²)·[-4+x≤0]+[-x+4≠0]·[-x+4≤0])·(-x·⅟2+3·⅟2)·([-4+x≤0]·[-x+3≤0]·[-x+4≠0]+[-5+x≤0]·[-x+4≤0])+((-[-1+x≠0]·[-1+x≤0]·x²·⅟4+-[-x+1≤0]·⅟4)·x²+([-1+x≠0]·[-1+x≤0]·x³·⅟6+[-x+1≤0]·⅟6)·x+([-1+x≠0]·[-1+x≤0]·x·⅟6+[-x+1≤0]·⅟6)·x³+-x⁴·⅟24)·([-1+x≠0]·[-1+x≤0]·[-x≤0]+[-2+x≤0]·[-x+1≤0])+(-1+-3·x²+3·x+x³)·(-x·⅟6+⅟6)·[-2+x≤0]·[-x+1≤0]+(-1+-3·x²+3·x+x³)·(-x·⅟6+⅟6)·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]+(-1+-3·x²·⅟4+2·x)·(-6·x+9+x²)·[-4+x≤0]·[-x+3≤0]+(-1+x)·(-x³·⅟6+-x·⅟2+x²·⅟2+⅟6)·[-2+x≤0]·[-x+1≤0]+(-1+x)·(-x³·⅟6+-x·⅟2+x²·⅟2+⅟6)·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]+(-1+x·⅟2)·(-4·x+4+x²)·[-3+x≤0]·[-x+2≤0]+(-1+x·⅟2)·(-4·x+4+x²)·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]+(-2+x)·(-x²+-⅟3+x+x³·⅟3)·[-3+x≤0]·[-x+2≤0]+(-2·x+1+x²)·(-x·⅟2+x²·⅟4+⅟4)·[-2+x≤0]·[-x+1≤0]+(-2·x+1+x²)·(-x·⅟2+x²·⅟4+⅟4)·[-2+x≤0]·[-x+1≤0]·[-x+2≠0]+(-2·x²+2·x+x³·⅟2)·(-3+x)·[-4+x≤0]·[-x+3≤0]+(-3·⅟2+x·⅟2)·(-8·x+16+x²)·[-5+x≤0]·[-x+4≤0]+(-4+-x²·⅟2+3·x)·(-4+x)·[-5+x≤0]·[-x+4≤0]+(-6·x²+-8+12·x+x³)·(-⅟3+x·⅟3)·[-3+x≤0]·[-x+2≤0]+-11·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x³·⅟6+-13·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x³·⅟3+-19·[-3+x≤0]·[-x+2≤0]·x·⅟6+-2·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x²+-31·[-5+x≤0]·[-x+4≤0]·x·⅟2+-34·[-4+x≤0]·[-x+3≤0]·⅟3+-351·[-x+4=0]·⅟4+-37·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x·⅟3+-55·[-x+2=0]·⅟24+-57·[-4+x≤0]·[-x+3≤0]·x²·⅟4+-5·[-3+x≤0]·[-x+2≤0]·⅟8+-5·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]+-5·[-4+x≤0]·[-x+3≤0]·x⁴·⅟24+-79·[-x+3=0]·⅟3+-7·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x·⅟6+-7·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x²·⅟4+-7·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x·⅟2+-9·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]+-[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x³·⅟6+-[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x·⅟3+-[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x³·⅟3+-[-3+x≤0]·[-x+2≤0]·x⁴·⅟4+-[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·x²+-[-5+x≤0]·[-x+4≤0]·x⁴·⅟4+11·[-4+x≤0]·[-x+3≠0]·[-x+3≤0]·x·⅟6+13·[-5+x≤0]·[-x+4≤0]·x²·⅟4+25·[-5+x≤0]·[-x+4≠0]·[-x+4≤0]·⅟4+265·[-5+x≤0]·[-x+4≤0]·⅟12+29·[-4+x≤0]·[-x+3≤0]·x³·⅟6+33·[-4+x≤0]·[-x+3≤0]·x·⅟2+37·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·⅟3+3·[-3+x≤0]·[-x+2≤0]·x²·⅟4+45·[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x²·⅟4+4·[-3+x≤0]·[-x+2≤0]·x³·⅟3+4·[-5+x≤0]·[-x+4≤0]·x³·⅟3+5·[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·⅟8+9·[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x+[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x²·⅟4+[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·x⁴·⅟12+[-2+x≤0]·[-x+1≤0]·[-x+2≠0]·⅟6+[-3+x≤0]·[-x+2≠0]·[-x+2≤0]·x²·⅟2+[-3+x≤0]·[-x+2≤0]·[-x+3≠0]·x⁴·⅟8+[-4+x≤0]·[-x+3≤0]·[-x+4≠0]·x⁴·⅟4
}
