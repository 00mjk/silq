// Benchmark 2.

def burglar_alarm(){
    earthquake := Bernoulli(1/10000);
    burglary := Bernoulli(1/1000);
    alarm := earthquake || burglary;
    phoneWorking := Bernoulli(if earthquake { 7/10 } else { 99/100 });
    maryWakes := Bernoulli(if alarm { if earthquake { 8/10 } else { 6/10 } } else { 2/10 });
    called := maryWakes && phoneWorking;
    observe(called);
    return burglary; // expected: (2497500000·δ[burglary]+2500000·δ[-burglary+1])·(2969703·[burglary≠0]·⅟2480402005000000+7·⅟62010050125000+989901·[burglary=0]·⅟2480402005000000)
    // TODO: this could be simplified better
}