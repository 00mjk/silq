// TODO: the integrals should be evaluated
// TODO: make it very fast for N=500, as this is what they use
// TODO: allow probabilities of predicates to be evaluated

def main(){
    x := 0;
    //N := 500;
    //while (i < N){
    //repeat 500{
    repeat 5{
        x = x + Uniform(0,1);
    }
    return x; // expected: ((-11·x·⅟3+-5·x³·⅟6+11·x²·⅟4+5·⅟3+x⁴·⅟12)·[-2+x≠0]·[-x+2≤0]+-3·[-2+x≠0]·[-2+x≤0]·x²·⅟4+-[-2+x≠0]·[-2+x≤0]·x⁴·⅟12+[-2+x≠0]·[-2+x≤0]·x³·⅟2+[-2+x≠0]·[-2+x≤0]·x·⅟3+[-x+2≤0]·⅟3)·(([-2+x≠0]·[-3+x≤0]+[-2+x≤0])·[-x+2≤0]+[-2+x≠0]·[-2+x≤0]·[-x+1≤0])+((-125·x·⅟6+-5·x³·⅟6+123·⅟8+25·x²·⅟4+x⁴·⅟24)·[-x+4≠0]·[-x+4≤0]+-4·[-4+x≤0]·[-x+4≠0]·x²+-85·[-4+x≤0]·⅟8+-[-4+x≤0]·[-x+4≠0]·x⁴·⅟24+2·[-4+x≤0]·[-x+4≠0]·x³·⅟3+32·[-4+x≤0]·[-x+4≠0]·x·⅟3+32·[-x+4≤0]·⅟3)·(([-4+x≤0]+[-5+x≤0]·[-x+4≠0])·[-x+4≤0]+[-4+x≤0]·[-x+3≤0]·[-x+4≠0])+((-20·⅟3+-23·x²·⅟4+-x⁴·⅟12+34·x·⅟3+7·x³·⅟6)·[-x+3≤0]+-3·[-3+x≤0]·[-x+3≠0]·x+-5·[-3+x≤0]·[-x+3≠0]·x³·⅟6+11·[-3+x≤0]·[-x+3≠0]·x²·⅟4+[-3+x≤0]·[-x+3≠0]·x⁴·⅟12+[-3+x≤0]·[-x+3≠0]·⅟3)·(([-3+x=0]+[-x+2≤0]·[-x+3≠0])·[-3+x≤0]+[-4+x≤0]·[-x+3≠0]·[-x+3≤0])+((-3·x²·⅟2+-x⁴·⅟4+-⅟4+x+x³)·[-x+1≠0]·[-x+1≤0]+[-1+x≤0]·[-x+1≠0]·x⁴·⅟4+[-x+1≤0]·⅟4)·(([-2+x≤0]·[-x+1≠0]·⅟6+[-x+1=0]·⅟6)·[-x+1≤0]+[-1+x≤0]·[-x+1≠0]·[-x≤0]·⅟6)+((-3·x·⅟2+-x³·⅟3+9·⅟8+x²+x⁴·⅟24)·[-x+2≤0]+-5·[-2+x≠0]·[-2+x≤0]·⅟24+-[-2+x≠0]·[-2+x≤0]·x²·⅟4+-[-2+x≠0]·[-2+x≤0]·x⁴·⅟24+[-2+x≠0]·[-2+x≤0]·x³·⅟6+[-2+x≠0]·[-2+x≤0]·x·⅟3)·(([-2+x=0]+[-2+x≠0]·[-x+1≤0])·[-2+x≤0]+[-2+x≠0]·[-3+x≤0]·[-x+2≤0])+((-4·x²+-57·⅟8+-x⁴·⅟24+21·x·⅟2+2·x³·⅟3)·[-x+3≠0]·[-x+3≤0]+-13·[-3+x≤0]·[-x+3≠0]·x·⅟3+-23·[-x+3≤0]·⅟8+-[-3+x≤0]·[-x+3≠0]·x³·⅟2+3·[-3+x≤0]+9·[-3+x≤0]·[-x+3≠0]·x²·⅟4+[-3+x≤0]·[-x+3≠0]·x⁴·⅟24)·(([-3+x≤0]+[-4+x≤0]·[-x+3≠0])·[-x+3≤0]+[-3+x≤0]·[-x+2≤0]·[-x+3≠0])
    // TODO:
    /*estimateProb(x <= 0);
    estimateProb(x <= 50);
    estimateProb(x <= 100);
    estimateProb(x <= 150);
    estimateProb(x <= 200);
    estimateProb(x <= 250);
    estimateProb(x <= 300);
    estimateProb(x <= 350);
    estimateProb(x <= 400);
    estimateProb(x <= 450);
    estimateProb(x <= 500);*/
}