dat Person{
    running: ℝ;
    x: ℝ, v: ℝ;
    def Person(running: ℝ){
        this.running = running;
        this.x = 0;
        this.v = 0;
    }
    def updateRunning(){
        if this.running {
           this.running=Bernoulli(9/10);
        }else{
           this.running=Bernoulli(1/10);
        }
    }
    def update(){
        this.updateRunning();
        this.v = if this.running { 10 } else { 5 };
        this.x = this.x+this.v;
    }
    def measureX(x: ℝ){
        o := this.x + Gauss(0,1);
        cobserve(o,x);
    }
}

def main(){
    p := Person(0);
    data := [0,5,10,25,30];
    for i in [0..data.length){
        p.update();
	p.measureX(data[i]);
    }
    return p.running; // expected: (3321·δ[-r₁+1]·⅟200000·⅟e^(675·⅟2)·⅟π²+59049·δ[r₁]·⅟400000·⅟e^(125·⅟2)·⅟π²+6561·δ[-r₁+1]·⅟200000·⅟e⁵⁰·⅟π²+6561·δ[-r₁+1]·⅟400000·⅟e^(275·⅟2)·⅟π²+6561·δ[-r₁+1]·⅟400000·⅟e⁶⁷⁵·⅟π²+729·δ[r₁]·⅟400000·⅟e^(1175·⅟2)·⅟π²+729·δ[r₁]·⅟400000·⅟e^(225·⅟2)·⅟π²+729·δ[r₁]·⅟400000·⅟e^(75·⅟2)·⅟π²+729·δ[r₁]·⅟400000·⅟e^(925·⅟2)·⅟π²+729·δ[r₁]·⅟400000·⅟e²⁰⁰·⅟π²+729·δ[r₁]·⅟400000·⅟e²⁷⁵·⅟π²+729·δ[r₁]·⅟400000·⅟e³⁰⁰·⅟π²+729·δ[r₁]·⅟400000·⅟e¹⁰⁰·⅟π²+729·δ[r₁]·⅟400000·⅟e¹⁵⁰·⅟π²+729·δ[r₁]·⅟400000·⅟e⁷⁵·⅟π²+81·δ[-r₁+1]·⅟400000·⅟e^(175·⅟2)·⅟π²+81·δ[-r₁+1]·⅟400000·⅟e^(325·⅟2)·⅟π²+81·δ[-r₁+1]·⅟400000·⅟e^(425·⅟2)·⅟π²+81·δ[-r₁+1]·⅟400000·⅟e^(475·⅟2)·⅟π²+81·δ[-r₁+1]·⅟400000·⅟e^(875·⅟2)·⅟π²+81·δ[-r₁+1]·⅟400000·⅟e³⁷⁵·⅟π²+81·δ[-r₁+1]·⅟400000·⅟e¹²⁵·⅟π²+81·δ[-r₁+1]·⅟400000·⅟e¹⁷⁵·⅟π²+81·δ[-r₁+1]·⅟400000·⅟e⁵²⁵·⅟π²+9·δ[r₁]·⅟400000·⅟e^(275·⅟2)·⅟π²+9·δ[r₁]·⅟400000·⅟e^(475·⅟2)·⅟π²+9·δ[r₁]·⅟400000·⅟e^(625·⅟2)·⅟π²+9·δ[r₁]·⅟400000·⅟e³⁷⁵·⅟π²+9·δ[r₁]·⅟400000·⅟e¹⁷⁵·⅟π²+δ[-r₁+1]·⅟400000·⅟e²⁷⁵·⅟π²)·[(3321·⅟200000·⅟e^(675·⅟2)·⅟π²+59049·⅟400000·⅟e^(125·⅟2)·⅟π²+6561·⅟200000·⅟e⁵⁰·⅟π²+6561·⅟400000·⅟e⁶⁷⁵·⅟π²+657·⅟40000·⅟e^(275·⅟2)·⅟π²+729·⅟400000·⅟e^(1175·⅟2)·⅟π²+729·⅟400000·⅟e^(225·⅟2)·⅟π²+729·⅟400000·⅟e^(75·⅟2)·⅟π²+729·⅟400000·⅟e^(925·⅟2)·⅟π²+729·⅟400000·⅟e²⁰⁰·⅟π²+729·⅟400000·⅟e³⁰⁰·⅟π²+729·⅟400000·⅟e¹⁰⁰·⅟π²+729·⅟400000·⅟e¹⁵⁰·⅟π²+729·⅟400000·⅟e⁷⁵·⅟π²+73·⅟40000·⅟e²⁷⁵·⅟π²+81·⅟400000·⅟e^(175·⅟2)·⅟π²+81·⅟400000·⅟e^(325·⅟2)·⅟π²+81·⅟400000·⅟e^(425·⅟2)·⅟π²+81·⅟400000·⅟e^(875·⅟2)·⅟π²+81·⅟400000·⅟e¹²⁵·⅟π²+81·⅟400000·⅟e⁵²⁵·⅟π²+9·⅟400000·⅟e^(625·⅟2)·⅟π²+9·⅟40000·⅟e^(475·⅟2)·⅟π²+9·⅟40000·⅟e³⁷⁵·⅟π²+9·⅟40000·⅟e¹⁷⁵·⅟π²)·⅟√2̅·⅟√π̅≠0]·⅟(3321·⅟200000·⅟e^(675·⅟2)·⅟π²+59049·⅟400000·⅟e^(125·⅟2)·⅟π²+6561·⅟200000·⅟e⁵⁰·⅟π²+6561·⅟400000·⅟e⁶⁷⁵·⅟π²+657·⅟40000·⅟e^(275·⅟2)·⅟π²+729·⅟400000·⅟e^(1175·⅟2)·⅟π²+729·⅟400000·⅟e^(225·⅟2)·⅟π²+729·⅟400000·⅟e^(75·⅟2)·⅟π²+729·⅟400000·⅟e^(925·⅟2)·⅟π²+729·⅟400000·⅟e²⁰⁰·⅟π²+729·⅟400000·⅟e³⁰⁰·⅟π²+729·⅟400000·⅟e¹⁰⁰·⅟π²+729·⅟400000·⅟e¹⁵⁰·⅟π²+729·⅟400000·⅟e⁷⁵·⅟π²+73·⅟40000·⅟e²⁷⁵·⅟π²+81·⅟400000·⅟e^(175·⅟2)·⅟π²+81·⅟400000·⅟e^(325·⅟2)·⅟π²+81·⅟400000·⅟e^(425·⅟2)·⅟π²+81·⅟400000·⅟e^(875·⅟2)·⅟π²+81·⅟400000·⅟e¹²⁵·⅟π²+81·⅟400000·⅟e⁵²⁵·⅟π²+9·⅟400000·⅟e^(625·⅟2)·⅟π²+9·⅟40000·⅟e^(475·⅟2)·⅟π²+9·⅟40000·⅟e³⁷⁵·⅟π²+9·⅟40000·⅟e¹⁷⁵·⅟π²)
}