// TODO: why is this so slow for even moderate number of iterations?
def main(){
    x := 0;
    y := 0;
    repeat 3{
        cur := Uniform(0,1);
        x = x + cur;
	if cur<1/2 { y+=1; }
    }
    //z:=x==y;
    observe(y==2);
    return x; // expected: ((((-[-1+2·x≠0]·[-2·x+3≤0]+-[-3+2·x≤0])·[-3+2·x≠0]+-[-2·x+3=0])·[-1+x≤0]·[-x+1≠0]+((-[-2·x+3≤0]+-[-3+2·x≤0]·[-x+1≠0])·[-3+2·x≠0]+-[-2·x+3=0])·[-x+1≤0])·((-x+1)·[-2·x+3≤0]·[-3+2·x≠0]+-[-3+2·x≤0]·⅟2)·((2·[-2·x+3=0]+2·[-3+2·x≠0]·[-x+1≠0])·[-2·x+3≤0]+2·[-3+2·x≠0]·[-3+2·x≤0])·(([-2·x+3=0]+[-3+2·x≠0]·[-x+1≤0])·[-2·x+3≤0]+[-3+2·x≠0]·[-3+2·x≤0])·(-⅟2+x)·([-1+x≤0]·[-2·x+3≤0]·[-x+1≠0]·⅟2+[-x+1≤0]·⅟2)·([-1+x≤0]·[-3+2·x≠0]·[-3+2·x≤0]·[-x+1≠0]+[-x+1=0])+((([-1+2·x≠0]·[-2·x+3≤0]+[-3+2·x≤0])·[-3+2·x≠0]+[-2·x+3=0])·[-1+x≤0]·[-x+1≠0]+(([-2·x+3≤0]+[-3+2·x≤0]·[-x+1≠0])·[-3+2·x≠0]+[-2·x+3=0])·[-x+1≤0])·((-1+x)·[-2·x+3≤0]·[-3+2·x≠0]+[-3+2·x≤0]·⅟2)·((-[-2·x+3=0]+-[-3+2·x≠0]·[-x+1≠0])·[-2·x+3≤0]+-[-3+2·x≠0]·[-3+2·x≤0])·(([-2·x+3=0]+[-3+2·x≠0]·[-x+1≤0])·[-2·x+3≤0]+[-3+2·x≠0]·[-3+2·x≤0])·([-1+x≤0]·[-3+2·x≠0]·[-3+2·x≤0]·[-x+1≠0]+[-x+1=0])·x+((([-1+2·x≠0]·[-2·x+3≤0]·⅟2+[-3+2·x≤0]·⅟2)·[-3+2·x≠0]+[-2·x+3=0]·⅟2)·[-1+x≤0]·[-x+1≠0]+(([-2·x+3≤0]·⅟2+[-3+2·x≤0]·[-x+1≠0]·⅟2)·[-3+2·x≠0]+[-2·x+3=0]·⅟2)·[-x+1≤0])·((-2·x+1+x²)·[-2·x+3≤0]·[-3+2·x≠0]+[-3+2·x≤0]·⅟4)·(([-2·x+3=0]+[-3+2·x≠0]·[-x+1≠0])·[-2·x+3≤0]+[-3+2·x≠0]·[-3+2·x≤0])·(([-2·x+3=0]+[-3+2·x≠0]·[-x+1≤0])·[-2·x+3≤0]+[-3+2·x≠0]·[-3+2·x≤0])·([-1+x≤0]·[-3+2·x≠0]·[-3+2·x≤0]·[-x+1≠0]+[-x+1=0])+(-[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0]+-[-x+1≤0])·(-⅟2+x)·x+-[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0]·x·⅟2+-[-x+1≠0]·[-x+1≤0]·⅟2+-[-x+1≤0]·x·⅟2+[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0]·x²·⅟2+[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0]·⅟8+[-x+1=0]+[-x+1≠0]·[-x+1≤0]·x+[-x+1≠0]·x²·⅟2+[-x+1≤0]·⅟8)·((((8·[-1+x≤0]·[-2·x+1≤0]·⅟3+8·[-x+1≤0]·⅟3)·[-3+2·x≠0]+8·[-2·x+3=0]·⅟3)·[-3+2·x≤0]+8·[-1+x≤0]·[-2·x+3≤0]·[-3+2·x≠0]·⅟3)·[-x+1≠0]+8·[-x+1=0]·⅟3)+((((4·[-2+x≤0]·[-3+2·x≠0]·⅟3+4·[-2·x+3=0]·⅟3)·[-2·x+3≤0]+4·[-3+2·x≠0]·[-3+2·x≤0]·⅟3)·[-x+1≠0]+4·[-x+1=0]·⅟3)·[-x+1≤0]+4·[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0]·⅟3)·(((-1+x)·[-2·x+3≤0]·[-3+2·x≠0]+[-3+2·x≤0]·⅟2)·((-[-2·x+3=0]+-[-3+2·x≠0]·[-x+1≤0])·[-2·x+3≤0]+-[-3+2·x≠0]·[-3+2·x≤0])·(([-2·x+3=0]+[-3+2·x≠0]·[-x+1≠0])·[-2·x+3≤0]+[-3+2·x≠0]·[-3+2·x≤0])+(-⅟2+x)·[-3+2·x≠0]·[-3+2·x≤0]+[-2·x+3≤0])+((((4·[-2+x≤0]·[-3+2·x≠0]·⅟3+4·[-2·x+3=0]·⅟3)·[-x+1≠0]+4·[-x+1=0]·⅟3)·[-x+1≤0]+(4·[-3+2·x≠0]·⅟3+4·[-3+2·x≤0]·⅟3)·[-1+x≤0]·[-x+1≠0])·[-2·x+3≤0]+4·[-3+2·x≠0]·[-3+2·x≤0]·[-x+1≤0]·⅟3)·((([-3+2·x≤0]·[-x+1≠0]+[-x+1=0])·[-x+1≤0]+[-1+x≤0]·[-x+1≠0])·(-1+x)+-[-2·x+3≤0]·x+3·[-2·x+3≤0]·⅟2+[-2·x+3≤0]·[-3+2·x≠0]·[-x+1≠0]·[-x+1≤0]·⅟2)+((((8·[-2+x≤0]·[-3+2·x≠0]·⅟3+8·[-2·x+3=0]·⅟3)·[-2·x+3≤0]+8·[-3+2·x≠0]·[-3+2·x≤0]·⅟3)·[-x+1≠0]+8·[-x+1=0]·⅟3)·[-x+1≤0]+8·[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0]·⅟3)·(((-1+x)·[-2·x+3≤0]·[-3+2·x≠0]+[-3+2·x≤0]·⅟2)·(([-2·x+3=0]+[-3+2·x≠0]·[-x+1≠0])·[-2·x+3≤0]+[-3+2·x≠0]·[-3+2·x≤0])·(([-2·x+3=0]+[-3+2·x≠0]·[-x+1≤0])·[-2·x+3≤0]+[-3+2·x≠0]·[-3+2·x≤0])·(-⅟2+x)+((-2·x+1+x²)·[-2·x+3≤0]·[-3+2·x≠0]+[-3+2·x≤0]·⅟4)·((-[-2·x+3=0]·⅟2+-[-3+2·x≠0]·[-x+1≤0]·⅟2)·[-2·x+3≤0]+-[-3+2·x≠0]·[-3+2·x≤0]·⅟2)·(([-2·x+3=0]+[-3+2·x≠0]·[-x+1≠0])·[-2·x+3≤0]+[-3+2·x≠0]·[-3+2·x≤0])+((-⅟2+x)·[-3+2·x≠0]·[-3+2·x≤0]+[-2·x+3≤0])·(-x+⅟2)+(-x·⅟2+x²·⅟2+⅟8)·[-3+2·x≠0]·[-3+2·x≤0]+[-2·x+3≤0]·⅟2)+((((8·[-2+x≤0]·[-3+2·x≠0]·⅟3+8·[-2·x+3=0]·⅟3)·[-x+1≠0]+8·[-x+1=0]·⅟3)·[-x+1≤0]+(8·[-3+2·x≠0]·⅟3+8·[-3+2·x≤0]·⅟3)·[-1+x≤0]·[-x+1≠0])·[-2·x+3≤0]+8·[-3+2·x≠0]·[-3+2·x≤0]·[-x+1≤0]·⅟3)·(((([-3+2·x≤0]·[-x+1≠0]+[-x+1=0])·[-x+1≤0]+[-1+x≤0]·[-x+1≠0])·(-1+x)+[-2·x+3≤0]·[-3+2·x≠0]·[-x+1≠0]·[-x+1≤0]·⅟2)·(-x+1)+(([-3+2·x≤0]·[-x+1≠0]·⅟2+[-x+1=0]·⅟2)·[-x+1≤0]+[-1+x≤0]·[-x+1≠0]·⅟2)·(-2·x+1+x²)+(-1+x)·(-3·⅟2+x)·[-2·x+3≤0]+-9·[-2·x+3≤0]·⅟8+-[-2·x+3≤0]·x²·⅟2+3·[-2·x+3≤0]·x·⅟2+[-2·x+3≤0]·[-3+2·x≠0]·[-x+1≠0]·[-x+1≤0]·⅟8)+(((([-1+2·x=0]+[-1+2·x≠0]·[-2+x≤0])·[-2·x+1≤0]+[-1+2·x≠0]·[-1+2·x≤0])·(-3·⅟2+x)+[-1+2·x≠0]·[-2·x+1≤0]·[-x+2≠0]·[-x+2≤0]·⅟2)·x+((-[-1+2·x=0]·⅟2+-[-1+2·x≠0]·[-2+x≤0]·⅟2)·[-2·x+1≤0]+-[-1+2·x≠0]·[-1+2·x≤0]·⅟2)·(-3·x+9·⅟4+x²)+-[-1+2·x≠0]·[-2·x+1≤0]·[-x+2≠0]·[-x+2≤0]·⅟8+-[-x+1≠0]·[-x+1≤0]·x²·⅟2+[-x+1≠0]·[-x+1≤0]·⅟2)·(8·[-1+2·x≠0]·[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0]·⅟3+8·[-1+2·x≠0]·[-2·x+1≤0]·[-3+2·x≤0]·[-x+1≠0]·[-x+2≠0]·[-x+2≤0]·⅟3)+(((-x+x²+⅟4)·[-1+x≤0]+[-x+1≠0]·[-x+1≤0]·⅟4)·([-1+x≤0]·[-3+2·x≠0]·[-x+1≠0]+[-x+1≤0])·([-1+x≤0]·[-3+2·x≤0]·[-x+1≠0]·⅟2+[-x+1≤0]·⅟2)+(-x²·⅟2+-⅟2+x)·[-x+1≠0]·[-x+1≤0]+-5·[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0]·⅟8+-[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0]·x²·⅟2+3·[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0]·x·⅟2)·((-8·[-2·x+1≤0]·[-3+2·x≠0]·[-3+2·x≤0]·⅟3+-8·[-2·x+3≤0]·[-5+2·x≤0]·⅟3)·[-1+x≤0]·[-x+1≠0]+(-8·[-3+2·x≤0]·[-x+1≠0]·⅟3+-8·[-x+1=0]·⅟3)·[-x+1≤0])+(((-⅟2+x)·[-1+x≤0]+[-x+1≠0]·[-x+1≤0]·⅟2)·([-1+x≤0]·[-3+2·x≠0]·[-x+1≠0]+[-x+1≤0])·([-1+x≤0]·[-3+2·x≤0]·[-x+1≠0]+[-x+1≤0])+[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0])·(([-2·x+1≤0]·[-3+2·x≠0]·[-3+2·x≤0]+[-2·x+3≤0]·[-5+2·x≤0])·[-1+x≤0]·[-x+1≠0]+([-3+2·x≤0]·[-x+1≠0]+[-x+1=0])·[-x+1≤0])·(-4·⅟3+8·x·⅟3)+((-1+x)·[-2+x≤0]+[-x+2≠0]·[-x+2≤0])·(([-2·x+3≤0]+[-x+2≤0])·[-1+x≤0]·[-x+1≠0]+[-3+2·x≤0]·[-x+1≠0]·[-x+2≠0]·[-x+2≤0])·(-8·x·⅟3+4·⅟3)+((-1+x)·[-3+2·x≤0]+-[-2·x+3≤0]·x+3·[-2·x+3≤0]·⅟2+[-2·x+3≤0]·[-3+2·x≠0]·⅟2)·((-8·[-2+x≤0]·[-3+2·x≠0]·⅟3+-8·[-2·x+3=0]·⅟3)·[-2·x+3≤0]+-8·[-3+2·x≠0]·[-3+2·x≤0]·[-x+1≤0]·⅟3)·x+((-1+x)·[-x+1≠0]·[-x+1≤0]+(-3·⅟2+x)·[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0])·(([-2·x+1≤0]·[-3+2·x≠0]·[-3+2·x≤0]+[-2·x+3≤0]·[-5+2·x≤0])·[-1+x≤0]·[-x+1≠0]+([-3+2·x≤0]·[-x+1≠0]+[-x+1=0])·[-x+1≤0])·(-8·x·⅟3+4·⅟3)+((-3·⅟2+x)·[-2+x≤0]+(-x+1)·[-x+1≠0]·[-x+1≤0]+[-x+2≠0]·[-x+2≤0]·⅟2)·(4·[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0]·⅟3+4·[-3+2·x≤0]·[-x+1≠0]·[-x+2≠0]·[-x+2≤0]·⅟3)+((-x+x²+⅟4)·[-1+x≤0]+[-x+1≠0]·[-x+1≤0]·⅟4)·(([-2·x+1≤0]·[-3+2·x≠0]·[-3+2·x≤0]+[-2·x+3≤0]·[-5+2·x≤0])·[-1+x≤0]·[-x+1≠0]+([-3+2·x≤0]·[-x+1≠0]+[-x+1=0])·[-x+1≤0])·(-4·[-1+x≤0]·[-3+2·x≤0]·[-x+1≠0]·⅟3+-4·[-x+1≤0]·⅟3)·([-1+x≤0]·[-3+2·x≠0]·[-x+1≠0]+[-x+1≤0])+((-x+x²·⅟2+⅟2)·[-3+2·x≤0]+-9·[-2·x+3≤0]·⅟8+-[-2·x+3≤0]·x²·⅟2+3·[-2·x+3≤0]·x·⅟2+[-2·x+3≤0]·[-3+2·x≠0]·⅟8)·((8·[-2+x≤0]·[-3+2·x≠0]·⅟3+8·[-2·x+3=0]·⅟3)·[-2·x+3≤0]+8·[-3+2·x≠0]·[-3+2·x≤0]·[-x+1≤0]·⅟3)+((-⅟2+x)·[-1+x≤0]+[-x+1≠0]·[-x+1≤0]·⅟2)·(([-2·x+1≤0]·[-3+2·x≠0]·[-3+2·x≤0]+[-2·x+3≤0]·[-5+2·x≤0])·[-1+x≤0]·[-x+1≠0]+([-3+2·x≤0]·[-x+1≠0]+[-x+1=0])·[-x+1≤0])·(8·[-1+x≤0]·[-3+2·x≠0]·[-x+1≠0]·⅟3+8·[-x+1≤0]·⅟3)·([-1+x≤0]·[-3+2·x≤0]·[-x+1≠0]+[-x+1≤0])·x+((-⅟2+x)·[-3+2·x≠0]·[-3+2·x≤0]+-[-2·x+3≤0]·x+5·[-2·x+3≤0]·⅟2)·(-4·[-2·x+1≤0]·[-3+2·x≠0]·[-3+2·x≤0]·⅟3+-4·[-2·x+3≤0]·[-5+2·x≤0]·⅟3)·[-1+x≤0]·[-x+1≠0]+((-⅟2+x)·[-x+1≤0]+[-1+x≤0]·[-x+1≠0]·⅟2)·(([-2·x+3≤0]+[-x+2≤0])·[-1+x≤0]·[-x+1≠0]+[-3+2·x≤0]·[-x+1≠0]·[-x+2≠0]·[-x+2≤0])·(-4·⅟3+8·x·⅟3)+(-4+4·x)·[-3+2·x≠0]·[-3+2·x≤0]·[-x+1≤0]+(-4·[-3+2·x≤0]·[-x+1≠0]·⅟3+-4·[-x+1=0]·⅟3)·(-[-x+1≠0]·x+3·[-x+1≠0]·⅟2+[-1+x≤0]·⅟2)·[-x+1≤0]+(-8·⅟3+8·x·⅟3)·(-⅟2+x)·[-1+x≤0]·[-2·x+3≤0]·[-3+2·x≠0]+(-x+3·⅟2+[-3+2·x≠0]·⅟2+[-3+2·x≤0]·⅟2)·(4·[-2+x≤0]·[-3+2·x≠0]+4·[-2·x+3=0])·[-2·x+3≤0]+-4·[-1+x≤0]·[-2·x+3≤0]·[-5+2·x≤0]·[-x+1≠0]·x²·⅟3+-4·[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0]·x+-4·[-3+2·x≤0]·[-x+1≠0]·[-x+1≤0]·x²·⅟3+-8·[-1+2·x≠0]·[-1+2·x≤0]·[-x+1≤0]·⅟3+-8·[-1+x≤0]·[-2·x+3≤0]·[-3+2·x≠0]·x²·⅟3+-8·[-3+2·x≤0]·[-x+1≠0]·[-x+2≠0]·[-x+2≤0]·x²·⅟3+4·[-1+x≤0]·[-2·x+3≤0]·[-3+2·x≠0]·x·⅟3+4·[-1+x≤0]·[-2·x+3≤0]·[-3+2·x≠0]·⅟3+4·[-3+2·x≤0]·[-x+1≠0]·[-x+1≤0]·⅟3+4·[-3+2·x≤0]·[-x+1≠0]·[-x+2≠0]·[-x+2≤0]·x+5·[-1+x≤0]·[-2·x+3≤0]·[-5+2·x≤0]·[-x+1≠0]·⅟3+8·[-1+2·x≠0]·[-1+2·x≤0]·[-x+1≤0]·x·⅟3+8·[-1+x≤0]·[-2·x+3≤0]·[-5+2·x≤0]·[-x+1≠0]·x·⅟3+8·[-1+x≤0]·[-2·x+3≤0]·[-x+1≠0]·x²·⅟3
}
